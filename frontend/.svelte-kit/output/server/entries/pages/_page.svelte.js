import { c as create_ssr_component, a as subscribe, e as escape, d as add_attribute, b as each } from "../../chunks/ssr.js";
import { s as selectedDateStore, c as createModalStore, t as toastStore, g as getMonthLabel } from "../../chunks/dateUtils.js";
const css = {
  code: "html, body{height:100%}",
  map: '{"version":3,"file":"+page.svelte","sources":["+page.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { onMount } from \\"svelte\\";\\nimport {\\n  fetchEvents,\\n  createEvent,\\n  deleteEvent,\\n  updateEvent\\n} from \\"$lib/api\\";\\nimport {\\n  createModalStore,\\n  openCreateModal,\\n  closeCreateModal,\\n  toastStore,\\n  showToast,\\n  selectedDateStore,\\n  setSelectedDate\\n} from \\"$lib/stores\\";\\nimport {\\n  formatDateISO,\\n  getTodayISO,\\n  getMonthLabel,\\n  getDatePart,\\n  getTimePart,\\n  addWeeks,\\n  subWeeks,\\n  addMonths,\\n  subMonths\\n} from \\"$lib/utils/dateUtils\\";\\nimport WeekView from \\"$lib/components/WeekView.svelte\\";\\nimport MonthView from \\"$lib/components/MonthView.svelte\\";\\nlet events = [];\\nlet currentDate = /* @__PURE__ */ new Date();\\nlet viewMode = \\"week\\";\\nlet loading = true;\\nlet eventsVersion = 0;\\nconst eventColors = [\\n  \\"#3b82f6\\",\\n  \\"#10b981\\",\\n  \\"#f59e0b\\",\\n  \\"#ef4444\\",\\n  \\"#8b5cf6\\",\\n  \\"#14b8a6\\",\\n  \\"#f97316\\"\\n];\\nconst defaultEventColor = \\"#3b82f6\\";\\nlet showEventModal = false;\\nlet selectedEvent = null;\\nlet selectedEventColor = defaultEventColor;\\nlet editStartDate = \\"\\";\\nlet editStartTime = \\"\\";\\nlet editEndDate = \\"\\";\\nlet editEndTime = \\"\\";\\nlet editLocation = \\"\\";\\nlet showConfirmModal = false;\\nlet pendingDropEvent = null;\\n$: headerLabel = getMonthLabel(currentDate);\\n$: selectedDate = $selectedDateStore;\\n$: if (selectedDate) {\\n  currentDate = /* @__PURE__ */ new Date(`${selectedDate}T00:00:00`);\\n}\\nfunction prevPeriod() {\\n  if (viewMode === \\"week\\") {\\n    currentDate = subWeeks(currentDate, 1);\\n  } else {\\n    currentDate = subMonths(currentDate, 1);\\n  }\\n}\\nfunction nextPeriod() {\\n  if (viewMode === \\"week\\") {\\n    currentDate = addWeeks(currentDate, 1);\\n  } else {\\n    currentDate = addMonths(currentDate, 1);\\n  }\\n}\\nfunction goToday() {\\n  const today = /* @__PURE__ */ new Date();\\n  currentDate = today;\\n  setSelectedDate(getTodayISO());\\n}\\nfunction formatDateTimeLocal(date) {\\n  const dateStr = formatDateISO(date);\\n  const hours = String(date.getHours()).padStart(2, \\"0\\");\\n  const minutes = String(date.getMinutes()).padStart(2, \\"0\\");\\n  return `${dateStr}T${hours}:${minutes}:00`;\\n}\\nfunction handleEventDrop(event) {\\n  const { event: calendarEvent, newStart } = event.detail;\\n  const originalStart = new Date(calendarEvent.start);\\n  const originalEnd = new Date(calendarEvent.end);\\n  const durationMs = originalEnd.getTime() - originalStart.getTime();\\n  const newEnd = new Date(newStart.getTime() + durationMs);\\n  pendingDropEvent = {\\n    event: calendarEvent,\\n    newStart,\\n    newEnd\\n  };\\n  showConfirmModal = true;\\n}\\nasync function confirmDrop() {\\n  if (!pendingDropEvent) return;\\n  const { event: calendarEvent, newStart, newEnd } = pendingDropEvent;\\n  const updated = {\\n    ...calendarEvent,\\n    start: formatDateTimeLocal(newStart),\\n    end: formatDateTimeLocal(newEnd)\\n  };\\n  events = events.map((e) => e.id === calendarEvent.id ? updated : e);\\n  eventsVersion += 1;\\n  showConfirmModal = false;\\n  pendingDropEvent = null;\\n  try {\\n    await updateEvent(updated);\\n    showToast(\\"Event updated successfully!\\", \\"success\\", 200);\\n  } catch (error) {\\n    events = events.map(\\n      (e) => e.id === calendarEvent.id ? calendarEvent : e\\n    );\\n    eventsVersion += 1;\\n    showToast(\\"Error moving event\\", \\"error\\", 500);\\n  }\\n}\\nfunction cancelDrop() {\\n  showConfirmModal = false;\\n  pendingDropEvent = null;\\n}\\nfunction openCreateForDay(dateStr, hour) {\\n  const d = dateStr || getTodayISO();\\n  const h = hour !== void 0 ? String(hour).padStart(2, \\"0\\") : \\"09\\";\\n  const eh = (hour !== void 0 ? hour + 1 : 10).toString();\\n  openCreateModal(\\"\\", d, h, eh);\\n}\\nfunction openEventDetails(event) {\\n  selectedEvent = event;\\n  selectedEventColor = event.color || defaultEventColor;\\n  editStartDate = getDatePart(event.start);\\n  editStartTime = getTimePart(event.start);\\n  editEndDate = getDatePart(event.end);\\n  editEndTime = getTimePart(event.end);\\n  editLocation = event.location || \\"\\";\\n  showEventModal = true;\\n}\\nfunction handleDayClick(dateStr) {\\n  setSelectedDate(dateStr);\\n  currentDate = /* @__PURE__ */ new Date(dateStr + \\"T00:00:00\\");\\n  viewMode = \\"week\\";\\n}\\nfunction handleMonthDayClick(event) {\\n  handleDayClick(event.detail);\\n}\\nfunction handleWeekDayClick(event) {\\n  openCreateForDay(event.detail.dateStr, event.detail.hour);\\n}\\nfunction handleWeekEdge(event) {\\n  if (event.detail.direction === 1) {\\n    currentDate = addWeeks(currentDate, 1);\\n  } else {\\n    currentDate = subWeeks(currentDate, 1);\\n  }\\n}\\nasync function handleCreate() {\\n  const {\\n    title,\\n    startDate,\\n    startTime,\\n    endDate,\\n    endTime,\\n    color,\\n    location\\n  } = $createModalStore;\\n  if (!title.trim() || !startDate || !endDate || !startTime || !endTime) {\\n    showToast(\\"Please fill all fields\\", \\"warning\\");\\n    return;\\n  }\\n  try {\\n    const created = await createEvent({\\n      title: title.trim(),\\n      start: `${startDate}T${startTime}:00`,\\n      end: `${endDate}T${endTime}:00`,\\n      color,\\n      location: location.trim()\\n    });\\n    if (created) {\\n      events = [...events, created];\\n      setSelectedDate(startDate);\\n      currentDate = /* @__PURE__ */ new Date(startDate + \\"T00:00:00\\");\\n      showToast(\\n        `Event \\"${created.title}\\" created successfully!`,\\n        \\"success\\",\\n        200,\\n        4e3\\n      );\\n      closeCreateModal();\\n    } else {\\n      showToast(\\n        \\"Error creating event - empty server response\\",\\n        \\"error\\",\\n        500\\n      );\\n    }\\n  } catch (error) {\\n    console.error(\\"[handleCreate]\\", error);\\n    showToast(\\"Error creating event\\", \\"error\\", 500);\\n  }\\n}\\nasync function handleDelete() {\\n  if (!selectedEvent) return;\\n  if (!confirm(`Delete event \\"${selectedEvent.title}\\"?`)) return;\\n  const previousEvents = events;\\n  const deletingEvent = selectedEvent;\\n  events = events.filter((e) => e.id !== deletingEvent.id);\\n  eventsVersion += 1;\\n  showEventModal = false;\\n  selectedEvent = null;\\n  const success = await deleteEvent(deletingEvent.id);\\n  if (success) {\\n    showToast(\\n      `Event \\"${deletingEvent.title}\\" deleted successfully!`,\\n      \\"success\\",\\n      200,\\n      3e3\\n    );\\n  } else {\\n    events = previousEvents;\\n    eventsVersion += 1;\\n    showToast(\\"Error deleting event\\", \\"error\\", 500);\\n  }\\n}\\nasync function handleEventUpdate() {\\n  if (!selectedEvent) return;\\n  if (!editStartDate || !editStartTime || !editEndDate || !editEndTime) {\\n    showToast(\\"Fill date and time\\", \\"warning\\");\\n    return;\\n  }\\n  const updatedStart = `${editStartDate}T${editStartTime}:00`;\\n  const updatedEnd = `${editEndDate}T${editEndTime}:00`;\\n  const startDate = new Date(updatedStart);\\n  const endDate = new Date(updatedEnd);\\n  if (Number.isNaN(startDate.getTime()) || Number.isNaN(endDate.getTime()) || endDate <= startDate) {\\n    showToast(\\"Invalid period\\", \\"warning\\");\\n    return;\\n  }\\n  const previous = selectedEvent;\\n  const updated = {\\n    ...selectedEvent,\\n    start: updatedStart,\\n    end: updatedEnd,\\n    color: selectedEventColor,\\n    location: editLocation.trim()\\n  };\\n  events = events.map((e) => e.id === updated.id ? updated : e);\\n  eventsVersion += 1;\\n  showEventModal = false;\\n  selectedEvent = null;\\n  try {\\n    await updateEvent(updated);\\n    showToast(\\"Event updated successfully!\\", \\"success\\", 200);\\n  } catch (error) {\\n    events = events.map((e) => e.id === previous.id ? previous : e);\\n    eventsVersion += 1;\\n    showToast(\\"Error updating event\\", \\"error\\", 500);\\n  }\\n}\\nfunction handleEventClick(event) {\\n  openEventDetails(event.detail);\\n}\\nonMount(async () => {\\n  events = await fetchEvents();\\n  if (!$selectedDateStore) {\\n    setSelectedDate(getTodayISO());\\n  }\\n  loading = false;\\n});\\n<\/script>\\n\\n<!-- Main Layout -->\\n<div class=\\"flex flex-col h-screen bg-base-100\\">\\n    <!-- Header -->\\n    <header\\n        class=\\"flex-none flex items-center justify-between px-6 py-4 border-b border-base-200\\"\\n    >\\n        <div class=\\"flex items-center gap-4\\">\\n            <div class=\\"flex items-center gap-4\\">\\n                <button\\n                    class=\\"btn btn-sm btn-outline px-4\\"\\n                    on:click={goToday}\\n                    title=\\"Back to today\\"\\n                >\\n                    Today\\n                </button>\\n\\n                <!-- Navigation -->\\n                <div class=\\"flex items-center gap-1\\">\\n                    <button\\n                        class=\\"btn btn-sm btn-ghost btn-circle\\"\\n                        on:click={prevPeriod}\\n                        title=\\"Previous\\"\\n                    >\\n                        <svg\\n                            class=\\"w-5 h-5\\"\\n                            fill=\\"none\\"\\n                            stroke=\\"currentColor\\"\\n                            viewBox=\\"0 0 24 24\\"\\n                        >\\n                            <path\\n                                stroke-linecap=\\"round\\"\\n                                stroke-linejoin=\\"round\\"\\n                                stroke-width=\\"2\\"\\n                                d=\\"M15 19l-7-7 7-7\\"\\n                            />\\n                        </svg>\\n                    </button>\\n                    <button\\n                        class=\\"btn btn-sm btn-ghost btn-circle\\"\\n                        on:click={nextPeriod}\\n                        title=\\"Next\\"\\n                    >\\n                        <svg\\n                            class=\\"w-5 h-5\\"\\n                            fill=\\"none\\"\\n                            stroke=\\"currentColor\\"\\n                            viewBox=\\"0 0 24 24\\"\\n                        >\\n                            <path\\n                                stroke-linecap=\\"round\\"\\n                                stroke-linejoin=\\"round\\"\\n                                stroke-width=\\"2\\"\\n                                d=\\"M9 5l7 7-7 7\\"\\n                            />\\n                        </svg>\\n                    </button>\\n                </div>\\n\\n                <!-- Display formatted selected date -->\\n                <h2 class=\\"text-xl font-normal capitalize min-w-[200px]\\">\\n                    {headerLabel}\\n                </h2>\\n            </div>\\n        </div>\\n\\n        <!-- View Switcher -->\\n        <div class=\\"flex items-center gap-2\\">\\n            <!-- Removed search and settings buttons -->\\n\\n            <!-- View Mode Dropdown -->\\n            <div class=\\"dropdown dropdown-end z-50\\">\\n                <label\\n                    tabindex=\\"0\\"\\n                    class=\\"btn btn-outline btn-sm m-1 min-w-[100px] justify-between\\"\\n                >\\n                    {viewMode === \\"week\\" ? \\"Week\\" : \\"Month\\"}\\n                    <svg\\n                        class=\\"w-4 h-4 ml-1\\"\\n                        fill=\\"none\\"\\n                        stroke=\\"currentColor\\"\\n                        viewBox=\\"0 0 24 24\\"\\n                        ><path\\n                            stroke-linecap=\\"round\\"\\n                            stroke-linejoin=\\"round\\"\\n                            stroke-width=\\"2\\"\\n                            d=\\"M19 9l-7 7-7-7\\"\\n                        /></svg\\n                    >\\n                </label>\\n                <!-- svelte-ignore a11y-no-noninteractive-tabindex -->\\n                <ul\\n                    tabindex=\\"0\\"\\n                    class=\\"dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-52 border border-base-200\\"\\n                >\\n                    <li>\\n                        <button\\n                            class={viewMode === \\"week\\" ? \\"active\\" : \\"\\"}\\n                            on:click={() => (viewMode = \\"week\\")}\\n                            >Week <span class=\\"text-xs opacity-50 ml-auto\\"\\n                                >W</span\\n                            ></button\\n                        >\\n                    </li>\\n                    <li>\\n                        <button\\n                            class={viewMode === \\"month\\" ? \\"active\\" : \\"\\"}\\n                            on:click={() => (viewMode = \\"month\\")}\\n                            >Month <span class=\\"text-xs opacity-50 ml-auto\\"\\n                                >M</span\\n                            ></button\\n                        >\\n                    </li>\\n                </ul>\\n            </div>\\n        </div>\\n    </header>\\n\\n    {#if loading}\\n        <div class=\\"flex-1 flex items-center justify-center\\">\\n            <span class=\\"loading loading-spinner loading-lg\\"></span>\\n        </div>\\n    {:else}\\n        <!-- Main Content -->\\n        <div class=\\"flex-1 overflow-hidden relative p-4 flex flex-col\\">\\n            {#key eventsVersion}\\n                <!-- Week View -->\\n                {#if viewMode === \\"week\\"}\\n                    <WeekView\\n                        {events}\\n                        {currentDate}\\n                        on:eventDrop={handleEventDrop}\\n                        on:eventClick={handleEventClick}\\n                        on:dayClick={handleWeekDayClick}\\n                        on:weekEdge={handleWeekEdge}\\n                    />\\n\\n                    <!-- Month View -->\\n                {:else}\\n                    <MonthView\\n                        {events}\\n                        {currentDate}\\n                        on:eventClick={handleEventClick}\\n                        on:dayClick={handleMonthDayClick}\\n                    />\\n                {/if}\\n            {/key}\\n            <!-- Removed Floating Action Button -->\\n        </div>\\n    {/if}\\n</div>\\n\\n<!-- Create Event Modal -->\\n{#if $createModalStore.isOpen}\\n    <div class=\\"modal modal-open z-50\\">\\n        <div\\n            class=\\"modal-box max-w-md\\"\\n            role=\\"dialog\\"\\n            aria-labelledby=\\"create-modal-title\\"\\n        >\\n            <h3 id=\\"create-modal-title\\" class=\\"text-lg font-bold mb-4\\">\\n                Create Event\\n            </h3>\\n\\n            <div class=\\"form-control w-full\\">\\n                <label class=\\"label\\" for=\\"event-title\\">\\n                    <span class=\\"label-text font-semibold\\">Title</span>\\n                </label>\\n                <input\\n                    id=\\"event-title\\"\\n                    type=\\"text\\"\\n                    bind:value={$createModalStore.title}\\n                    placeholder=\\"Ex: Meeting, Lunch...\\"\\n                    class=\\"input input-bordered w-full\\"\\n                    autofocus\\n                />\\n            </div>\\n\\n            <div class=\\"mt-4 grid grid-cols-2 gap-3\\">\\n                <div class=\\"form-control\\">\\n                    <label class=\\"label\\" for=\\"event-start-date\\">\\n                        <span class=\\"label-text text-sm\\">Start Date</span>\\n                    </label>\\n                    <input\\n                        id=\\"event-start-date\\"\\n                        type=\\"date\\"\\n                        bind:value={$createModalStore.startDate}\\n                        class=\\"input input-bordered input-sm\\"\\n                    />\\n                </div>\\n                <div class=\\"form-control\\">\\n                    <label class=\\"label\\" for=\\"event-start-time\\">\\n                        <span class=\\"label-text text-sm\\">Start Time</span>\\n                    </label>\\n                    <input\\n                        id=\\"event-start-time\\"\\n                        type=\\"time\\"\\n                        bind:value={$createModalStore.startTime}\\n                        class=\\"input input-bordered input-sm\\"\\n                    />\\n                </div>\\n            </div>\\n\\n            <div class=\\"mt-3 grid grid-cols-2 gap-3\\">\\n                <div class=\\"form-control\\">\\n                    <label class=\\"label\\" for=\\"event-end-date\\">\\n                        <span class=\\"label-text text-sm\\">End Date</span>\\n                    </label>\\n                    <input\\n                        id=\\"event-end-date\\"\\n                        type=\\"date\\"\\n                        bind:value={$createModalStore.endDate}\\n                        class=\\"input input-bordered input-sm\\"\\n                    />\\n                </div>\\n                <div class=\\"form-control\\">\\n                    <label class=\\"label\\" for=\\"event-end-time\\">\\n                        <span class=\\"label-text text-sm\\">End Time</span>\\n                    </label>\\n                    <input\\n                        id=\\"event-end-time\\"\\n                        type=\\"time\\"\\n                        bind:value={$createModalStore.endTime}\\n                        class=\\"input input-bordered input-sm\\"\\n                    />\\n                </div>\\n            </div>\\n\\n            <div class=\\"mt-4\\">\\n                <div class=\\"text-xs font-semibold text-base-content/60 mb-2\\">\\n                    Event Color\\n                </div>\\n                <div class=\\"flex flex-wrap gap-2\\">\\n                    {#each eventColors as color}\\n                        <button\\n                            class=\\"w-7 h-7 rounded-full border border-base-200\\"\\n                            style=\\"background-color: {color}; box-shadow: {$createModalStore.color ===\\n                            color\\n                                ? \'0 0 0 2px rgba(59, 130, 246, 0.5)\'\\n                                : \'none\'};\\"\\n                            on:click={() =>\\n                                ($createModalStore = {\\n                                    ...$createModalStore,\\n                                    color,\\n                                })}\\n                            aria-label=\\"Select color\\"\\n                        />\\n                    {/each}\\n                </div>\\n            </div>\\n\\n            <div class=\\"form-control mt-4\\">\\n                <label class=\\"label\\" for=\\"event-location\\">\\n                    <span class=\\"label-text text-sm\\">Location</span>\\n                </label>\\n                <input\\n                    id=\\"event-location\\"\\n                    type=\\"text\\"\\n                    bind:value={$createModalStore.location}\\n                    class=\\"input input-bordered input-sm\\"\\n                    placeholder=\\"Ex: Room 3\\"\\n                />\\n            </div>\\n\\n            <div class=\\"modal-action mt-6\\">\\n                <button class=\\"btn btn-outline\\" on:click={closeCreateModal}\\n                    >Cancel</button\\n                >\\n                <button class=\\"btn btn-primary\\" on:click={handleCreate}\\n                    >Create</button\\n                >\\n            </div>\\n        </div>\\n        <!-- svelte-ignore a11y-click-events-have-key-events -->\\n        <!-- svelte-ignore a11y-no-static-element-interactions -->\\n        <div class=\\"modal-backdrop\\" on:click={closeCreateModal} />\\n    </div>\\n{/if}\\n\\n<!-- Confirmation Modal -->\\n{#if showConfirmModal && pendingDropEvent}\\n    <div class=\\"modal modal-open z-50\\">\\n        <div class=\\"modal-box\\">\\n            <h3 class=\\"font-bold text-lg\\">Confirm Change</h3>\\n            <p class=\\"py-4\\">\\n                Do you want to move the event <b\\n                    >\\"{pendingDropEvent.event.title}\\"</b\\n                >\\n                to:\\n                <br />\\n                <b>\\n                    {pendingDropEvent.newStart.toLocaleDateString(\\"en-US\\")} at {pendingDropEvent.newStart.toLocaleTimeString(\\n                        \\"en-US\\",\\n                        { hour: \\"2-digit\\", minute: \\"2-digit\\" },\\n                    )}\\n                </b>\\n                ?\\n            </p>\\n            <div class=\\"modal-action\\">\\n                <button class=\\"btn btn-outline\\" on:click={cancelDrop}\\n                    >Cancel</button\\n                >\\n                <button class=\\"btn btn-primary\\" on:click={confirmDrop}\\n                    >Confirm</button\\n                >\\n            </div>\\n        </div>\\n        <!-- svelte-ignore a11y-click-events-have-key-events -->\\n        <!-- svelte-ignore a11y-no-static-element-interactions -->\\n        <div class=\\"modal-backdrop\\" on:click={cancelDrop}></div>\\n    </div>\\n{/if}\\n\\n<!-- Event Update Modal -->\\n{#if showEventModal && selectedEvent}\\n    <div class=\\"modal modal-open z-50\\">\\n        <div\\n            class=\\"modal-box max-w-sm\\"\\n            role=\\"dialog\\"\\n            aria-labelledby=\\"event-details-title\\"\\n        >\\n            <div class=\\"flex justify-between items-start mb-4\\">\\n                <h3\\n                    id=\\"event-details-title\\"\\n                    class=\\"text-lg font-semibold text-base-content\\"\\n                >\\n                    {selectedEvent.title}\\n                </h3>\\n                <button\\n                    class=\\"btn btn-sm btn-ghost btn-circle\\"\\n                    on:click={() => {\\n                        showEventModal = false;\\n                        selectedEvent = null;\\n                    }}\\n                    aria-label=\\"Close\\"\\n                >\\n                    âœ•\\n                </button>\\n            </div>\\n\\n            <div class=\\"grid grid-cols-2 gap-3 mb-3\\">\\n                <div class=\\"form-control\\">\\n                    <label class=\\"label\\" for=\\"event-edit-start-date\\">\\n                        <span class=\\"label-text text-sm\\">Start Date</span>\\n                    </label>\\n                    <input\\n                        id=\\"event-edit-start-date\\"\\n                        type=\\"date\\"\\n                        bind:value={editStartDate}\\n                        class=\\"input input-bordered input-sm\\"\\n                    />\\n                </div>\\n                <div class=\\"form-control\\">\\n                    <label class=\\"label\\" for=\\"event-edit-start-time\\">\\n                        <span class=\\"label-text text-sm\\">Start Time</span>\\n                    </label>\\n                    <input\\n                        id=\\"event-edit-start-time\\"\\n                        type=\\"time\\"\\n                        bind:value={editStartTime}\\n                        class=\\"input input-bordered input-sm\\"\\n                    />\\n                </div>\\n            </div>\\n\\n            <div class=\\"grid grid-cols-2 gap-3 mb-3\\">\\n                <div class=\\"form-control\\">\\n                    <label class=\\"label\\" for=\\"event-edit-end-date\\">\\n                        <span class=\\"label-text text-sm\\">End Date</span>\\n                    </label>\\n                    <input\\n                        id=\\"event-edit-end-date\\"\\n                        type=\\"date\\"\\n                        bind:value={editEndDate}\\n                        class=\\"input input-bordered input-sm\\"\\n                    />\\n                </div>\\n                <div class=\\"form-control\\">\\n                    <label class=\\"label\\" for=\\"event-edit-end-time\\">\\n                        <span class=\\"label-text text-sm\\">End Time</span>\\n                    </label>\\n                    <input\\n                        id=\\"event-edit-end-time\\"\\n                        type=\\"time\\"\\n                        bind:value={editEndTime}\\n                        class=\\"input input-bordered input-sm\\"\\n                    />\\n                </div>\\n            </div>\\n\\n            <div class=\\"form-control mb-4\\">\\n                <label class=\\"label\\" for=\\"event-edit-location\\">\\n                    <span class=\\"label-text text-sm\\">Location</span>\\n                </label>\\n                <input\\n                    id=\\"event-edit-location\\"\\n                    type=\\"text\\"\\n                    bind:value={editLocation}\\n                    class=\\"input input-bordered input-sm\\"\\n                    placeholder=\\"Ex: Room 3\\"\\n                />\\n            </div>\\n\\n            <div class=\\"mb-4\\">\\n                <div class=\\"text-xs font-semibold text-base-content/60 mb-2\\">\\n                    Event Color\\n                </div>\\n                <div class=\\"flex flex-wrap gap-2\\">\\n                    {#each eventColors as color}\\n                        <button\\n                            class=\\"w-7 h-7 rounded-full border border-base-200\\"\\n                            style=\\"background-color: {color}; box-shadow: {selectedEventColor ===\\n                            color\\n                                ? \'0 0 0 2px rgba(59, 130, 246, 0.5)\'\\n                                : \'none\'};\\"\\n                            on:click={() => (selectedEventColor = color)}\\n                            aria-label=\\"Select color\\"\\n                        />\\n                    {/each}\\n                </div>\\n            </div>\\n\\n            <div class=\\"modal-action\\">\\n                <button\\n                    class=\\"btn btn-outline\\"\\n                    on:click={() => {\\n                        showEventModal = false;\\n                        selectedEvent = null;\\n                    }}\\n                >\\n                    Cancel\\n                </button>\\n                <button\\n                    class=\\"btn btn-error btn-outline\\"\\n                    on:click={handleDelete}\\n                >\\n                    Delete\\n                </button>\\n                <button class=\\"btn btn-primary\\" on:click={handleEventUpdate}>\\n                    Update\\n                </button>\\n            </div>\\n        </div>\\n        <!-- svelte-ignore a11y-click-events-have-key-events -->\\n        <!-- svelte-ignore a11y-no-static-element-interactions -->\\n        <div\\n            class=\\"modal-backdrop\\"\\n            on:click={() => {\\n                showEventModal = false;\\n                selectedEvent = null;\\n            }}\\n        />\\n    </div>\\n{/if}\\n\\n<!-- Toast Container -->\\n<div class=\\"fixed bottom-4 right-4 z-50 flex flex-col gap-2 max-w-md\\">\\n    {#each $toastStore as toast (toast.id)}\\n        <div\\n            class=\\"alert {toast.type === \'success\'\\n                ? \'alert-success\'\\n                : toast.type === \'error\'\\n                  ? \'alert-error\'\\n                  : toast.type === \'warning\'\\n                    ? \'alert-warning\'\\n                    : \'alert-info\'} shadow-lg animate-in slide-in-from-right-4\\"\\n        >\\n            <div class=\\"flex items-start gap-3\\">\\n                <div>\\n                    {#if toast.type === \\"success\\"}\\n                        <svg\\n                            class=\\"h-6 w-6\\"\\n                            fill=\\"none\\"\\n                            stroke=\\"currentColor\\"\\n                            viewBox=\\"0 0 24 24\\"\\n                        >\\n                            <path\\n                                stroke-linecap=\\"round\\"\\n                                stroke-linejoin=\\"round\\"\\n                                stroke-width=\\"2\\"\\n                                d=\\"M5 13l4 4L19 7\\"\\n                            />\\n                        </svg>\\n                    {:else if toast.type === \\"error\\"}\\n                        <svg\\n                            class=\\"h-6 w-6\\"\\n                            fill=\\"none\\"\\n                            stroke=\\"currentColor\\"\\n                            viewBox=\\"0 0 24 24\\"\\n                        >\\n                            <path\\n                                stroke-linecap=\\"round\\"\\n                                stroke-linejoin=\\"round\\"\\n                                stroke-width=\\"2\\"\\n                                d=\\"M6 18L18 6M6 6l12 12\\"\\n                            />\\n                        </svg>\\n                    {:else}\\n                        <svg\\n                            class=\\"h-6 w-6\\"\\n                            fill=\\"none\\"\\n                            stroke=\\"currentColor\\"\\n                            viewBox=\\"0 0 24 24\\"\\n                        >\\n                            <path\\n                                stroke-linecap=\\"round\\"\\n                                stroke-linejoin=\\"round\\"\\n                                stroke-width=\\"2\\"\\n                                d=\\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\\"\\n                            />\\n                        </svg>\\n                    {/if}\\n                </div>\\n                <div class=\\"flex-1\\">\\n                    <p class=\\"font-semibold\\">{toast.message}</p>\\n                    {#if toast.status}\\n                        <p class=\\"text-xs opacity-75\\">\\n                            HTTP {toast.status}\\n                        </p>\\n                    {/if}\\n                </div>\\n            </div>\\n        </div>\\n    {/each}\\n</div>\\n\\n<style>\\n    :global(html, body) {\\n        height: 100%;\\n    }\\n</style>\\n"],"names":[],"mappings":"AA+xBY,UAAY,CAChB,MAAM,CAAE,IACZ"}'
};
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let headerLabel;
  let selectedDate;
  let $selectedDateStore, $$unsubscribe_selectedDateStore;
  let $createModalStore, $$unsubscribe_createModalStore;
  let $toastStore, $$unsubscribe_toastStore;
  $$unsubscribe_selectedDateStore = subscribe(selectedDateStore, (value) => $selectedDateStore = value);
  $$unsubscribe_createModalStore = subscribe(createModalStore, (value) => $createModalStore = value);
  $$unsubscribe_toastStore = subscribe(toastStore, (value) => $toastStore = value);
  let currentDate = /* @__PURE__ */ new Date();
  const eventColors = ["#3b82f6", "#10b981", "#f59e0b", "#ef4444", "#8b5cf6", "#14b8a6", "#f97316"];
  $$result.css.add(css);
  selectedDate = $selectedDateStore;
  {
    if (selectedDate) {
      currentDate = /* @__PURE__ */ new Date(`${selectedDate}T00:00:00`);
    }
  }
  headerLabel = getMonthLabel(currentDate);
  $$unsubscribe_selectedDateStore();
  $$unsubscribe_createModalStore();
  $$unsubscribe_toastStore();
  return ` <div class="flex flex-col h-screen bg-base-100"> <header class="flex-none flex items-center justify-between px-6 py-4 border-b border-base-200"><div class="flex items-center gap-4"><div class="flex items-center gap-4"><button class="btn btn-sm btn-outline px-4" title="Back to today" data-svelte-h="svelte-1ryw55k">Today</button>  <div class="flex items-center gap-1"><button class="btn btn-sm btn-ghost btn-circle" title="Previous" data-svelte-h="svelte-1ew4n8z"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg></button> <button class="btn btn-sm btn-ghost btn-circle" title="Next" data-svelte-h="svelte-txw445"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button></div>  <h2 class="text-xl font-normal capitalize min-w-[200px]">${escape(headerLabel)}</h2></div></div>  <div class="flex items-center gap-2">  <div class="dropdown dropdown-end z-50"><label tabindex="0" class="btn btn-outline btn-sm m-1 min-w-[100px] justify-between">${escape("Week")} <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></label>  <ul tabindex="0" class="dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-52 border border-base-200"><li><button${add_attribute("class", "active", 0)}>Week <span class="text-xs opacity-50 ml-auto" data-svelte-h="svelte-1fruqkh">W</span></button></li> <li><button${add_attribute("class", "", 0)}>Month <span class="text-xs opacity-50 ml-auto" data-svelte-h="svelte-x1j0tv">M</span></button></li></ul></div></div></header> ${`<div class="flex-1 flex items-center justify-center" data-svelte-h="svelte-bqw1bb"><span class="loading loading-spinner loading-lg"></span></div>`}</div>  ${$createModalStore.isOpen ? `<div class="modal modal-open z-50"><div class="modal-box max-w-md" role="dialog" aria-labelledby="create-modal-title"><h3 id="create-modal-title" class="text-lg font-bold mb-4" data-svelte-h="svelte-1jlj9mc">Create Event</h3> <div class="form-control w-full"><label class="label" for="event-title" data-svelte-h="svelte-jolrqt"><span class="label-text font-semibold">Title</span></label> <input id="event-title" type="text" placeholder="Ex: Meeting, Lunch..." class="input input-bordered w-full" autofocus${add_attribute("value", $createModalStore.title, 0)}></div> <div class="mt-4 grid grid-cols-2 gap-3"><div class="form-control"><label class="label" for="event-start-date" data-svelte-h="svelte-98q0k9"><span class="label-text text-sm">Start Date</span></label> <input id="event-start-date" type="date" class="input input-bordered input-sm"${add_attribute("value", $createModalStore.startDate, 0)}></div> <div class="form-control"><label class="label" for="event-start-time" data-svelte-h="svelte-gddc0x"><span class="label-text text-sm">Start Time</span></label> <input id="event-start-time" type="time" class="input input-bordered input-sm"${add_attribute("value", $createModalStore.startTime, 0)}></div></div> <div class="mt-3 grid grid-cols-2 gap-3"><div class="form-control"><label class="label" for="event-end-date" data-svelte-h="svelte-1oqsca5"><span class="label-text text-sm">End Date</span></label> <input id="event-end-date" type="date" class="input input-bordered input-sm"${add_attribute("value", $createModalStore.endDate, 0)}></div> <div class="form-control"><label class="label" for="event-end-time" data-svelte-h="svelte-xf67bp"><span class="label-text text-sm">End Time</span></label> <input id="event-end-time" type="time" class="input input-bordered input-sm"${add_attribute("value", $createModalStore.endTime, 0)}></div></div> <div class="mt-4"><div class="text-xs font-semibold text-base-content/60 mb-2" data-svelte-h="svelte-fpe06">Event Color</div> <div class="flex flex-wrap gap-2">${each(eventColors, (color) => {
    return `<button class="w-7 h-7 rounded-full border border-base-200" style="${"background-color: " + escape(color, true) + "; box-shadow: " + escape(
      $createModalStore.color === color ? "0 0 0 2px rgba(59, 130, 246, 0.5)" : "none",
      true
    ) + ";"}" aria-label="Select color"></button>`;
  })}</div></div> <div class="form-control mt-4"><label class="label" for="event-location" data-svelte-h="svelte-hjp78m"><span class="label-text text-sm">Location</span></label> <input id="event-location" type="text" class="input input-bordered input-sm" placeholder="Ex: Room 3"${add_attribute("value", $createModalStore.location, 0)}></div> <div class="modal-action mt-6"><button class="btn btn-outline" data-svelte-h="svelte-1qbh3tt">Cancel</button> <button class="btn btn-primary" data-svelte-h="svelte-cee54c">Create</button></div></div>   <div class="modal-backdrop"></div></div>` : ``}  ${``}  ${``}  <div class="fixed bottom-4 right-4 z-50 flex flex-col gap-2 max-w-md">${each($toastStore, (toast) => {
    return `<div class="${"alert " + escape(
      toast.type === "success" ? "alert-success" : toast.type === "error" ? "alert-error" : toast.type === "warning" ? "alert-warning" : "alert-info",
      true
    ) + " shadow-lg animate-in slide-in-from-right-4"}"><div class="flex items-start gap-3"><div>${toast.type === "success" ? `<svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>` : `${toast.type === "error" ? `<svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>` : `<svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>`}`}</div> <div class="flex-1"><p class="font-semibold">${escape(toast.message)}</p> ${toast.status ? `<p class="text-xs opacity-75">HTTP ${escape(toast.status)} </p>` : ``} </div></div> </div>`;
  })} </div>`;
});
export {
  Page as default
};
