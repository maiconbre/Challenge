import{s as at,n as Re,d as p,x as Xe,u as r,i as ee,b as s,v as W,c as h,e as T,g as V,h as v,j as S,k as tt,R as Qt,S as sl,a as De,f as F,t as X,T as ol,w as gt,r as et,y as Y,z as le,U as $t,p as al,V as Ke,W as Je,o as il,X as ke,Y as cl,l as kt}from"../chunks/B1TUWL1_.js";import{S as ft,i as ht,a as Ze,t as Ge,c as vt,g as pt,d as el,m as tl,e as ll,b as nl}from"../chunks/la06iOca.js";import{e as Ee,H as ut,P as st,g as ul,f as Oe,b as wt,c as dl,u as _t,d as bt,h as lt,i as fl,j as hl,k as Be,a as mt,W as vl,l as pl,s as nt,m as ct,n as _l,p as Et,q as Dt,r as xe,t as dt,v as Ye,o as bl,w as ml,x as gl,y as kl}from"../chunks/Cfb9uq1x.js";const it="/api/events";function rl(l){return{id:String(l.id??""),title:String(l.title??""),start:String(l.start??"").replace("Z",""),end:String(l.end??"").replace("Z",""),color:l.color?String(l.color):void 0,location:l.location?String(l.location):void 0}}async function wl(){try{const l=await fetch(it);if(!l.ok)throw new Error(`HTTP ${l.status}`);const e=await l.json();return Array.isArray(e)?e.map(rl):[]}catch(l){return console.error("[API] Error fetching events:",l),[]}}async function El(l){try{const e=await fetch(it,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(!e.ok)throw new Error(`HTTP ${e.status}`);const t=await e.json();return rl(t)}catch(e){return console.error("[API] Error creating event:",e),null}}async function Dl(l){try{return(await fetch(`${it}/${l}`,{method:"DELETE"})).ok}catch(e){return console.error("[API] Error deleting event:",e),!1}}async function Tt(l){try{return(await fetch(`${it}/${l.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)})).ok}catch(e){return console.error("[API] Error updating event:",e),!1}}function yt(l,e,t){const n=l.slice();return n[33]=e[t],n[35]=t,n}function Ct(l,e,t){const n=l.slice();return n[36]=e[t],n}function It(l,e,t){const n=l.slice();return n[39]=e[t],n}function Tl(l,e,t){const n=l.slice();return n[39]=e[t],n}function Mt(l,e,t){const n=l.slice();return n[33]=e[t],n}function Lt(l){let e,t,n=wt(l[33])+"",a,i,o,w=l[33].getDate()+"",d,E,g;return{c(){e=v("div"),t=v("div"),a=X(n),i=S(),o=v("div"),d=X(w),g=S(),this.h()},l(D){e=h(D,"DIV",{class:!0});var c=T(e);t=h(c,"DIV",{class:!0});var k=T(t);a=F(k,n),k.forEach(p),i=V(c),o=h(c,"DIV",{class:!0});var _=T(o);d=F(_,w),_.forEach(p),g=V(c),c.forEach(p),this.h()},h(){r(t,"class","text-xs uppercase font-semibold text-base-content/60"),r(o,"class",E="text-lg font-normal rounded-full w-8 h-8 flex items-center justify-center mx-auto "+(Oe(l[33])===Oe(new Date)?"bg-primary text-primary-content":"")),r(e,"class","flex-1 text-center py-2 border-l border-base-200 first:border-l-0")},m(D,c){ee(D,e,c),s(e,t),s(t,a),s(e,i),s(e,o),s(o,d),s(e,g)},p(D,c){c[0]&1&&n!==(n=wt(D[33])+"")&&De(a,n),c[0]&1&&w!==(w=D[33].getDate()+"")&&De(d,w),c[0]&1&&E!==(E="text-lg font-normal rounded-full w-8 h-8 flex items-center justify-center mx-auto "+(Oe(D[33])===Oe(new Date)?"bg-primary text-primary-content":""))&&r(o,"class",E)},d(D){D&&p(e)}}}function yl(l){let e,t,n=dl(l[39])+"",a,i;return{c(){e=v("div"),t=v("span"),a=X(n),i=S(),this.h()},l(o){e=h(o,"DIV",{class:!0});var w=T(e);t=h(w,"SPAN",{class:!0});var d=T(t);a=F(d,n),d.forEach(p),i=V(w),w.forEach(p),this.h()},h(){r(t,"class","absolute -top-3 right-1 text-xs text-base-content/50 pr-1"),r(e,"class","h-[60px] relative")},m(o,w){ee(o,e,w),s(e,t),s(t,a),s(e,i)},p:Re,d(o){o&&p(e)}}}function Vt(l){let e,t='<div class="absolute top-1/2 w-full border-t border-base-200/30 border-dashed"></div>',n,a;function i(){return l[21](l[33],l[39])}return{c(){e=v("div"),e.innerHTML=t,this.h()},l(o){e=h(o,"DIV",{class:!0,style:!0,role:!0,tabindex:!0,"aria-label":!0,"data-svelte-h":!0}),le(e)!=="svelte-1o9szq1"&&(e.innerHTML=t),this.h()},h(){r(e,"class","absolute w-full border-b border-base-200/50 h-[60px] group transition-colors hover:bg-base-200/20"),W(e,"top",l[39]*st+"px"),r(e,"role","gridcell"),r(e,"tabindex","0"),r(e,"aria-label","Time slot")},m(o,w){ee(o,e,w),n||(a=[Y(e,"click",i),Y(e,"keydown",Il)],n=!0)},p(o,w){l=o},d(o){o&&p(e),n=!1,et(a)}}}function St(l,e){let t,n,a=e[36].title+"",i,o,w,d=Be(e[36].start)+"",E,g,D=Be(e[36].end)+"",c,k,_;function f(...b){return e[22](e[36],...b)}return{key:l,first:null,c(){t=v("div"),n=v("div"),i=X(a),o=S(),w=v("div"),E=X(d),g=X(" - "),c=X(D),this.h()},l(b){t=h(b,"DIV",{class:!0,style:!0,role:!0,tabindex:!0});var u=T(t);n=h(u,"DIV",{class:!0});var C=T(n);i=F(C,a),C.forEach(p),o=V(u),w=h(u,"DIV",{class:!0});var P=T(w);E=F(P,d),g=F(P," - "),c=F(P,D),P.forEach(p),u.forEach(p),this.h()},h(){r(n,"class","font-bold truncate pointer-events-none"),r(w,"class","opacity-80 truncate pointer-events-none"),r(t,"class","absolute left-1 right-1 rounded text-primary-content p-1 hover:brightness-110 transition-colors cursor-move z-10 overflow-hidden shadow-sm text-xs border"),W(t,"top",(e[2]===e[36].id?e[4]:e[12](e[36]))+"px"),W(t,"height",ot(e[36])+"px"),W(t,"z-index",e[2]===e[36].id?50:10),W(t,"opacity",e[2]===e[36].id?.9:1),W(t,"transform",e[2]===e[36].id?`translateX(${e[6]}px) scale(1.02)`:"scale(1)"),W(t,"box-shadow",e[2]===e[36].id?"0 10px 15px -3px rgba(0, 0, 0, 0.1)":""),W(t,"transition",e[2]===e[36].id?"none":"top 0.1s ease-out, background-color 0.15s ease"),W(t,"background-color",e[36].color||Fe),W(t,"border-color",e[36].color||Fe),r(t,"role","button"),r(t,"tabindex","0"),this.first=t},m(b,u){ee(b,t,u),s(t,n),s(n,i),s(t,o),s(t,w),s(w,E),s(w,g),s(w,c),k||(_=[Y(t,"mousedown",f),Y(t,"click",$t(e[19])),Y(t,"keydown",Ml)],k=!0)},p(b,u){e=b,u[0]&1&&a!==(a=e[36].title+"")&&De(i,a),u[0]&1&&d!==(d=Be(e[36].start)+"")&&De(E,d),u[0]&1&&D!==(D=Be(e[36].end)+"")&&De(c,D),u[0]&21&&W(t,"top",(e[2]===e[36].id?e[4]:e[12](e[36]))+"px"),u[0]&1&&W(t,"height",ot(e[36])+"px"),u[0]&5&&W(t,"z-index",e[2]===e[36].id?50:10),u[0]&5&&W(t,"opacity",e[2]===e[36].id?.9:1),u[0]&69&&W(t,"transform",e[2]===e[36].id?`translateX(${e[6]}px) scale(1.02)`:"scale(1)"),u[0]&5&&W(t,"box-shadow",e[2]===e[36].id?"0 10px 15px -3px rgba(0, 0, 0, 0.1)":""),u[0]&5&&W(t,"transition",e[2]===e[36].id?"none":"top 0.1s ease-out, background-color 0.15s ease"),u[0]&1&&W(t,"background-color",e[36].color||Fe),u[0]&1&&W(t,"border-color",e[36].color||Fe)},d(b){b&&p(t),k=!1,et(_)}}}function Bt(l){let e,t,n=l[3].title+"",a,i,o,w=Be(l[3].start)+"",d,E,g=Be(l[3].end)+"",D;return{c(){e=v("div"),t=v("div"),a=X(n),i=S(),o=v("div"),d=X(w),E=X(" - "),D=X(g),this.h()},l(c){e=h(c,"DIV",{class:!0,style:!0,role:!0,tabindex:!0});var k=T(e);t=h(k,"DIV",{class:!0});var _=T(t);a=F(_,n),_.forEach(p),i=V(k),o=h(k,"DIV",{class:!0});var f=T(o);d=F(f,w),E=F(f," - "),D=F(f,g),f.forEach(p),k.forEach(p),this.h()},h(){r(t,"class","font-bold truncate pointer-events-none"),r(o,"class","opacity-80 truncate pointer-events-none"),r(e,"class","absolute left-1 right-1 rounded text-primary-content p-1 hover:brightness-110 transition-colors cursor-move z-10 overflow-hidden shadow-sm text-xs border pointer-events-none"),W(e,"top",l[4]+"px"),W(e,"height",ot(l[3])+"px"),W(e,"z-index","50"),W(e,"opacity","0.9"),W(e,"transform","scale(1.02)"),W(e,"box-shadow","0 10px 15px -3px rgba(0, 0, 0, 0.1)"),W(e,"transition","none"),W(e,"background-color",l[3].color||Fe),W(e,"border-color",l[3].color||Fe),r(e,"role","button"),r(e,"tabindex","0")},m(c,k){ee(c,e,k),s(e,t),s(t,a),s(e,i),s(e,o),s(o,d),s(o,E),s(o,D)},p(c,k){k[0]&8&&n!==(n=c[3].title+"")&&De(a,n),k[0]&8&&w!==(w=Be(c[3].start)+"")&&De(d,w),k[0]&8&&g!==(g=Be(c[3].end)+"")&&De(D,g),k[0]&16&&W(e,"top",c[4]+"px"),k[0]&8&&W(e,"height",ot(c[3])+"px"),k[0]&8&&W(e,"background-color",c[3].color||Fe),k[0]&8&&W(e,"border-color",c[3].color||Fe)},d(c){c&&p(e)}}}function Ht(l){let e,t,n=[],a=new Map,i,o=l[3]&&l[2]===l[3].id&&l[35]===l[5]&&!l[11](l[33]).some(l[18]),w,d,E=Ee(ut),g=[];for(let _=0;_<E.length;_+=1)g[_]=Vt(It(l,E,_));let D=Ee(l[11](l[33]));const c=_=>_[36].id;for(let _=0;_<D.length;_+=1){let f=Ct(l,D,_),b=c(f);a.set(b,n[_]=St(b,f))}let k=o&&Bt(l);return{c(){e=v("div");for(let _=0;_<g.length;_+=1)g[_].c();t=S();for(let _=0;_<n.length;_+=1)n[_].c();i=S(),k&&k.c(),w=S(),this.h()},l(_){e=h(_,"DIV",{class:!0});var f=T(e);for(let b=0;b<g.length;b+=1)g[b].l(f);t=V(f);for(let b=0;b<n.length;b+=1)n[b].l(f);i=V(f),k&&k.l(f),w=V(f),f.forEach(p),this.h()},h(){r(e,"class",d="flex-1 border-l border-base-200 first:border-l-0 relative min-w-[120px] "+(l[9]===Oe(l[33])?"ring-1 ring-primary/40 ring-inset":""))},m(_,f){ee(_,e,f);for(let b=0;b<g.length;b+=1)g[b]&&g[b].m(e,null);s(e,t);for(let b=0;b<n.length;b+=1)n[b]&&n[b].m(e,null);s(e,i),k&&k.m(e,null),s(e,w)},p(_,f){if(f[0]&1025){E=Ee(ut);let b;for(b=0;b<E.length;b+=1){const u=It(_,E,b);g[b]?g[b].p(u,f):(g[b]=Vt(u),g[b].c(),g[b].m(e,t))}for(;b<g.length;b+=1)g[b].d(1);g.length=E.length}f[0]&14421&&(D=Ee(_[11](_[33])),n=_t(n,f,c,1,_,D,a,e,bt,St,i,Ct)),f[0]&45&&(o=_[3]&&_[2]===_[3].id&&_[35]===_[5]&&!_[11](_[33]).some(_[18])),o?k?k.p(_,f):(k=Bt(_),k.c(),k.m(e,w)):k&&(k.d(1),k=null),f[0]&513&&d!==(d="flex-1 border-l border-base-200 first:border-l-0 relative min-w-[120px] "+(_[9]===Oe(_[33])?"ring-1 ring-primary/40 ring-inset":""))&&r(e,"class",d)},d(_){_&&p(e),Xe(g,_);for(let f=0;f<n.length;f+=1)n[f].d();k&&k.d()}}}function Cl(l){let e,t,n,a,i,o,w,d,E=Ee(l[0]),g=[];for(let f=0;f<E.length;f+=1)g[f]=Lt(Mt(l,E,f));let D=Ee(ut),c=[];for(let f=0;f<D.length;f+=1)c[f]=yl(Tl(l,D,f));let k=Ee(l[0]),_=[];for(let f=0;f<k.length;f+=1)_[f]=Ht(yt(l,k,f));return{c(){e=v("div"),t=v("div");for(let f=0;f<g.length;f+=1)g[f].c();n=S(),a=v("div"),i=v("div"),o=v("div");for(let f=0;f<c.length;f+=1)c[f].c();w=S();for(let f=0;f<_.length;f+=1)_[f].c();this.h()},l(f){e=h(f,"DIV",{class:!0});var b=T(e);t=h(b,"DIV",{class:!0});var u=T(t);for(let B=0;B<g.length;B+=1)g[B].l(u);u.forEach(p),n=V(b),a=h(b,"DIV",{class:!0});var C=T(a);i=h(C,"DIV",{class:!0,style:!0});var P=T(i);o=h(P,"DIV",{class:!0});var H=T(o);for(let B=0;B<c.length;B+=1)c[B].l(H);H.forEach(p),w=V(P);for(let B=0;B<_.length;B+=1)_[B].l(P);P.forEach(p),C.forEach(p),b.forEach(p),this.h()},h(){r(t,"class","flex border-b border-base-200 pl-12 pr-4 bg-base-100/95 z-10"),r(o,"class","w-12 flex-none border-r border-base-200 bg-base-100 sticky left-0 z-20"),r(i,"class",d="flex relative min-h-[1440px] "+l[1]+" svelte-1nusl0m"),W(i,"height",24*st+"px"),r(a,"class","flex-1 overflow-y-auto relative custom-scrollbar svelte-1nusl0m"),r(e,"class","flex flex-col h-full bg-base-100 overflow-hidden select-none")},m(f,b){ee(f,e,b),s(e,t);for(let u=0;u<g.length;u+=1)g[u]&&g[u].m(t,null);s(e,n),s(e,a),s(a,i),s(i,o);for(let u=0;u<c.length;u+=1)c[u]&&c[u].m(o,null);l[20](o),s(i,w);for(let u=0;u<_.length;u+=1)_[u]&&_[u].m(i,null);l[23](i)},p(f,b){if(b[0]&1){E=Ee(f[0]);let u;for(u=0;u<E.length;u+=1){const C=Mt(f,E,u);g[u]?g[u].p(C,b):(g[u]=Lt(C),g[u].c(),g[u].m(t,null))}for(;u<g.length;u+=1)g[u].d(1);g.length=E.length}if(b[0]&15997){k=Ee(f[0]);let u;for(u=0;u<k.length;u+=1){const C=yt(f,k,u);_[u]?_[u].p(C,b):(_[u]=Ht(C),_[u].c(),_[u].m(i,null))}for(;u<_.length;u+=1)_[u].d(1);_.length=k.length}b[0]&2&&d!==(d="flex relative min-h-[1440px] "+f[1]+" svelte-1nusl0m")&&r(i,"class",d)},i:Re,o:Re,d(f){f&&p(e),Xe(g,f),Xe(c,f),l[20](null),Xe(_,f),l[23](null)}}}const Fe="#3b82f6",Nt=32;function ot(l){const e=new Date(l.start),n=(new Date(l.end).getTime()-e.getTime())/(1e3*60);return Math.max(n,30)}const Il=()=>{},Ml=()=>{};function Ll(l,e,t){let n,a;tt(l,mt,L=>t(17,a=L));let{events:i=[]}=e,{currentDate:o}=e;const w=Qt();let d=[],E="",g="";function D(L){const U=Oe(L);return i.filter(j=>lt(j.start)===U)}function c(L){const{hour:U,minute:j}=fl(L.start);return hl(U,j)}let k=null,_=null,f=0,b=0,u=0,C=0,P=0,H=0,B=null,N=null,q=!1;function O(){if(!B||!N||d.length===0)return 0;const L=B.getBoundingClientRect(),U=N.getBoundingClientRect().width,j=L.width-U;return j<=0?0:j/d.length}function x(L){if(!B||!N||d.length===0)return C;const U=B.getBoundingClientRect(),j=N.getBoundingClientRect().width,te=U.width-j;if(te<=0)return C;const ue=L-U.left-j,ne=te/d.length,G=Math.floor(ue/ne);return Math.max(0,Math.min(d.length-1,G))}function se(L){if(!B||!N)return 0;const U=B.getBoundingClientRect(),j=N.getBoundingClientRect().width,te=U.left+j,ue=U.right;return L<=te+Nt?-1:L>=ue-Nt?1:0}function Q(L,U){L.preventDefault(),L.stopPropagation(),t(2,k=U.id),t(3,_=U),f=L.clientY,b=c(U),t(4,u=b),C=d.findIndex(j=>Oe(j)===lt(U.start)),C<0&&(C=0),t(5,P=C),t(6,H=0),q=!1,window.addEventListener("mousemove",ce),window.addEventListener("mouseup",Z)}function ce(L){if(!k)return;const U=L.clientY-f,j=b+U,te=st;t(4,u=Math.round(j/te)*te),t(5,P=x(L.clientX));const ue=O();t(6,H=(P-C)*ue);const ne=se(L.clientX);ne!==0&&!q&&(q=!0,C=P,t(6,H=0),w("weekEdge",{direction:ne}))}function Z(L){if(!k)return;const U=_||i.find(j=>j.id===k);if(window.removeEventListener("mousemove",ce),window.removeEventListener("mouseup",Z),U){const j=u/st*60,te=Math.floor(j/60),ue=Math.floor(j%60),ne=x(L.clientX),G=d[ne]||d[C];if(u!==b||ne!==C){const _e=new Date(U.start);_e.setFullYear(G.getFullYear(),G.getMonth(),G.getDate()),_e.setHours(Math.max(0,Math.min(23,te)),ue,0,0),w("eventDrop",{event:U,newStart:_e})}else w("eventClick",U)}t(2,k=null),t(3,_=null),t(6,H=0)}sl(()=>{typeof window<"u"&&(window.removeEventListener("mousemove",ce),window.removeEventListener("mouseup",Z))});const he=L=>L.id===(_==null?void 0:_.id);function $(L){ol.call(this,l,L)}function oe(L){gt[L?"unshift":"push"](()=>{N=L,t(8,N)})}const be=(L,U)=>w("dayClick",{dateStr:Oe(L),hour:U}),ve=(L,U)=>Q(U,L);function K(L){gt[L?"unshift":"push"](()=>{B=L,t(7,B)})}return l.$$set=L=>{"events"in L&&t(14,i=L.events),"currentDate"in L&&t(15,o=L.currentDate)},l.$$.update=()=>{if(l.$$.dirty[0]&32768&&t(0,d=ul(o)),l.$$.dirty[0]&131072&&t(9,n=a),l.$$.dirty[0]&98304){const L=Oe(o);if(g&&L!==g){const U=new Date(g+"T00:00:00"),j=o>U?"slide-from-right":"slide-from-left";t(1,E=j),al().then(()=>{setTimeout(()=>{t(1,E="")},300)})}t(16,g=L)}},[d,E,k,_,u,P,H,B,N,n,w,D,c,Q,i,o,g,a,he,$,oe,be,ve,K]}class Vl extends ft{constructor(e){super(),ht(this,e,Ll,Cl,at,{events:14,currentDate:15},null,[-1,-1])}}function Pt(l,e,t){const n=l.slice();return n[9]=e[t].day,n[10]=e[t].dateStr,n[11]=e[t].isCurrentMonth,n[12]=e[t].isToday,n}function Ut(l,e,t){const n=l.slice();return n[15]=e[t],n}function Sl(l,e,t){const n=l.slice();return n[9]=e[t],n}function Bl(l){let e,t,n;return{c(){e=v("div"),t=X(l[9]),n=S(),this.h()},l(a){e=h(a,"DIV",{class:!0});var i=T(e);t=F(i,l[9]),n=V(i),i.forEach(p),this.h()},h(){r(e,"class","py-2 text-center text-sm font-semibold opacity-70")},m(a,i){ee(a,e,i),s(e,t),s(e,n)},p:Re,d(a){a&&p(e)}}}function jt(l){let e,t=Be(l[15].start)+"",n,a,i=l[15].title+"",o,w,d,E;function g(){return l[7](l[15])}return{c(){e=v("div"),n=X(t),a=S(),o=X(i),this.h()},l(D){e=h(D,"DIV",{class:!0,style:!0,title:!0});var c=T(e);n=F(c,t),a=V(c),o=F(c,i),c.forEach(p),this.h()},h(){r(e,"class","text-xs truncate px-1.5 py-0.5 rounded cursor-pointer text-primary-content font-medium border-l-2"),W(e,"background-color",(l[15].color||rt)+"33"),W(e,"border-left-color",l[15].color||rt),r(e,"title",w=l[15].title+" ("+Be(l[15].start)+")")},m(D,c){ee(D,e,c),s(e,n),s(e,a),s(e,o),d||(E=Y(e,"click",$t(g)),d=!0)},p(D,c){l=D,c&1&&t!==(t=Be(l[15].start)+"")&&De(n,t),c&1&&i!==(i=l[15].title+"")&&De(o,i),c&1&&W(e,"background-color",(l[15].color||rt)+"33"),c&1&&W(e,"border-left-color",l[15].color||rt),c&1&&w!==(w=l[15].title+" ("+Be(l[15].start)+")")&&r(e,"title",w)},d(D){D&&p(e),d=!1,E()}}}function At(l){let e,t,n=l[3](l[10]).length-4+"",a,i;return{c(){e=v("div"),t=X("+ "),a=X(n),i=X(" more"),this.h()},l(o){e=h(o,"DIV",{class:!0});var w=T(e);t=F(w,"+ "),a=F(w,n),i=F(w," more"),w.forEach(p),this.h()},h(){r(e,"class","text-xs text-center text-base-content/50 font-medium hover:text-primary cursor-pointer")},m(o,w){ee(o,e,w),s(e,t),s(e,a),s(e,i)},p(o,w){w&1&&n!==(n=o[3](o[10]).length-4+"")&&De(a,n)},d(o){o&&p(e)}}}function xt(l,e){let t,n,a,i=e[9]+"",o,w,d,E,g,D=e[3](e[10]).length>4,c,k,_,f,b=Ee(e[3](e[10]).slice(0,4)),u=[];for(let H=0;H<b.length;H+=1)u[H]=jt(Ut(e,b,H));let C=D&&At(e);function P(){return e[8](e[10])}return{key:l,first:null,c(){t=v("div"),n=v("div"),a=v("span"),o=X(i),d=S(),E=v("div");for(let H=0;H<u.length;H+=1)u[H].c();g=S(),C&&C.c(),c=S(),this.h()},l(H){t=h(H,"DIV",{class:!0});var B=T(t);n=h(B,"DIV",{class:!0});var N=T(n);a=h(N,"SPAN",{class:!0});var q=T(a);o=F(q,i),q.forEach(p),N.forEach(p),d=V(B),E=h(B,"DIV",{class:!0});var O=T(E);for(let x=0;x<u.length;x+=1)u[x].l(O);g=V(O),C&&C.l(O),O.forEach(p),c=V(B),B.forEach(p),this.h()},h(){r(a,"class",w="text-sm font-medium w-7 h-7 flex items-center justify-center rounded-full "+(e[12]?"bg-primary text-primary-content":"")),r(n,"class","flex justify-between items-start mb-1"),r(E,"class","flex flex-col gap-1 overflow-hidden max-h-[calc(100%-2rem)]"),r(t,"class",k="border-b border-r border-base-200 min-h-[100px] p-1 relative transition-colors hover:bg-base-200/30 group "+(e[11]?"":"bg-base-200/10 text-base-content/30")+" "+(e[12]?"bg-primary/5":"")+" "+(e[1]===e[10]?"ring-2 ring-primary ring-inset":"")),this.first=t},m(H,B){ee(H,t,B),s(t,n),s(n,a),s(a,o),s(t,d),s(t,E);for(let N=0;N<u.length;N+=1)u[N]&&u[N].m(E,null);s(E,g),C&&C.m(E,null),s(t,c),_||(f=Y(t,"click",P),_=!0)},p(H,B){if(e=H,B&1&&i!==(i=e[9]+"")&&De(o,i),B&1&&w!==(w="text-sm font-medium w-7 h-7 flex items-center justify-center rounded-full "+(e[12]?"bg-primary text-primary-content":""))&&r(a,"class",w),B&13){b=Ee(e[3](e[10]).slice(0,4));let N;for(N=0;N<b.length;N+=1){const q=Ut(e,b,N);u[N]?u[N].p(q,B):(u[N]=jt(q),u[N].c(),u[N].m(E,g))}for(;N<u.length;N+=1)u[N].d(1);u.length=b.length}B&1&&(D=e[3](e[10]).length>4),D?C?C.p(e,B):(C=At(e),C.c(),C.m(E,null)):C&&(C.d(1),C=null),B&3&&k!==(k="border-b border-r border-base-200 min-h-[100px] p-1 relative transition-colors hover:bg-base-200/30 group "+(e[11]?"":"bg-base-200/10 text-base-content/30")+" "+(e[12]?"bg-primary/5":"")+" "+(e[1]===e[10]?"ring-2 ring-primary ring-inset":""))&&r(t,"class",k)},d(H){H&&p(t),Xe(u,H),C&&C.d(),_=!1,f()}}}function Hl(l){let e,t,n,a,i=[],o=new Map,w=Ee(vl),d=[];for(let D=0;D<w.length;D+=1)d[D]=Bl(Sl(l,w,D));let E=Ee(l[0]);const g=D=>D[10];for(let D=0;D<E.length;D+=1){let c=Pt(l,E,D),k=g(c);o.set(k,i[D]=xt(k,c))}return{c(){e=v("div"),t=v("div");for(let D=0;D<d.length;D+=1)d[D].c();n=S(),a=v("div");for(let D=0;D<i.length;D+=1)i[D].c();this.h()},l(D){e=h(D,"DIV",{class:!0});var c=T(e);t=h(c,"DIV",{class:!0});var k=T(t);for(let f=0;f<d.length;f+=1)d[f].l(k);k.forEach(p),n=V(c),a=h(c,"DIV",{class:!0});var _=T(a);for(let f=0;f<i.length;f+=1)i[f].l(_);_.forEach(p),c.forEach(p),this.h()},h(){r(t,"class","grid grid-cols-7 border-b border-base-200 bg-base-200/50"),r(a,"class","flex-1 grid grid-cols-7 grid-rows-6"),r(e,"class","flex flex-col h-full bg-base-100 border border-base-200 rounded-lg overflow-hidden")},m(D,c){ee(D,e,c),s(e,t);for(let k=0;k<d.length;k+=1)d[k]&&d[k].m(t,null);s(e,n),s(e,a);for(let k=0;k<i.length;k+=1)i[k]&&i[k].m(a,null)},p(D,[c]){c&15&&(E=Ee(D[0]),i=_t(i,c,g,1,D,E,o,a,bt,xt,null,Pt))},i:Re,o:Re,d(D){D&&p(e),Xe(d,D);for(let c=0;c<i.length;c+=1)i[c].d()}}}const rt="#3b82f6";function Nl(l,e,t){let n,a;tt(l,mt,c=>t(6,a=c));let{events:i=[]}=e,{currentDate:o}=e;const w=Qt();let d=[];function E(c){return i.filter(k=>lt(k.start)===c)}const g=c=>w("eventClick",c),D=c=>w("dayClick",c);return l.$$set=c=>{"events"in c&&t(4,i=c.events),"currentDate"in c&&t(5,o=c.currentDate)},l.$$.update=()=>{l.$$.dirty&32&&t(0,d=pl(o)),l.$$.dirty&64&&t(1,n=a)},[d,n,w,E,i,o,a,g,D]}class Pl extends ft{constructor(e){super(),ht(this,e,Nl,Hl,at,{events:4,currentDate:5})}}function Wt(l,e,t){const n=l.slice();return n[56]=e[t],n}function Ot(l,e,t){const n=l.slice();return n[59]=e[t],n}function zt(l,e,t){const n=l.slice();return n[59]=e[t],n}function Ul(l){let e,t=l[4],n,a=Rt(l);return{c(){e=v("div"),a.c(),this.h()},l(i){e=h(i,"DIV",{class:!0});var o=T(e);a.l(o),o.forEach(p),this.h()},h(){r(e,"class","flex-1 overflow-hidden relative p-4 flex flex-col")},m(i,o){ee(i,e,o),a.m(e,null),n=!0},p(i,o){o[0]&16&&at(t,t=i[4])?(pt(),Ze(a,1,1,Re),vt(),a=Rt(i),a.c(),Ge(a,1),a.m(e,null)):a.p(i,o)},i(i){n||(Ge(a),n=!0)},o(i){Ze(a),n=!1},d(i){i&&p(e),a.d(i)}}}function jl(l){let e,t='<span class="loading loading-spinner loading-lg"></span>';return{c(){e=v("div"),e.innerHTML=t,this.h()},l(n){e=h(n,"DIV",{class:!0,"data-svelte-h":!0}),le(e)!=="svelte-bqw1bb"&&(e.innerHTML=t),this.h()},h(){r(e,"class","flex-1 flex items-center justify-center")},m(n,a){ee(n,e,a)},p:Re,i:Re,o:Re,d(n){n&&p(e)}}}function Al(l){let e,t;return e=new Pl({props:{events:l[1],currentDate:l[0]}}),e.$on("eventClick",l[31]),e.$on("dayClick",l[25]),{c(){nl(e.$$.fragment)},l(n){ll(e.$$.fragment,n)},m(n,a){tl(e,n,a),t=!0},p(n,a){const i={};a[0]&2&&(i.events=n[1]),a[0]&1&&(i.currentDate=n[0]),e.$set(i)},i(n){t||(Ge(e.$$.fragment,n),t=!0)},o(n){Ze(e.$$.fragment,n),t=!1},d(n){el(e,n)}}}function xl(l){let e,t;return e=new Vl({props:{events:l[1],currentDate:l[0]}}),e.$on("eventDrop",l[22]),e.$on("eventClick",l[31]),e.$on("dayClick",l[26]),e.$on("weekEdge",l[27]),{c(){nl(e.$$.fragment)},l(n){ll(e.$$.fragment,n)},m(n,a){tl(e,n,a),t=!0},p(n,a){const i={};a[0]&2&&(i.events=n[1]),a[0]&1&&(i.currentDate=n[0]),e.$set(i)},i(n){t||(Ge(e.$$.fragment,n),t=!0)},o(n){Ze(e.$$.fragment,n),t=!1},d(n){el(e,n)}}}function Rt(l){let e,t,n,a;const i=[xl,Al],o=[];function w(d,E){return d[2]==="week"?0:1}return e=w(l),t=o[e]=i[e](l),{c(){t.c(),n=kt()},l(d){t.l(d),n=kt()},m(d,E){o[e].m(d,E),ee(d,n,E),a=!0},p(d,E){let g=e;e=w(d),e===g?o[e].p(d,E):(pt(),Ze(o[g],1,1,()=>{o[g]=null}),vt(),t=o[e],t?t.p(d,E):(t=o[e]=i[e](d),t.c()),Ge(t,1),t.m(n.parentNode,n))},i(d){a||(Ge(t),a=!0)},o(d){Ze(t),a=!1},d(d){d&&p(n),o[e].d(d)}}}function qt(l){let e,t,n,a="Create Event",i,o,w,d='<span class="label-text font-semibold">Title</span>',E,g,D,c,k,_,f='<span class="label-text text-sm">Start Date</span>',b,u,C,P,H,B='<span class="label-text text-sm">Start Time</span>',N,q,O,x,se,Q,ce='<span class="label-text text-sm">End Date</span>',Z,he,$,oe,be,ve='<span class="label-text text-sm">End Time</span>',K,L,U,j,te,ue="Event Color",ne,G,ae,pe,_e,Le='<span class="label-text text-sm">Location</span>',we,de,re,me,ge,Ne="Cancel",Te,Me,ye="Create",Ce,ie,fe,M,z=Ee(l[18]),R=[];for(let m=0;m<z.length;m+=1)R[m]=Yt(zt(l,z,m));return{c(){e=v("div"),t=v("div"),n=v("h3"),n.textContent=a,i=S(),o=v("div"),w=v("label"),w.innerHTML=d,E=S(),g=v("input"),D=S(),c=v("div"),k=v("div"),_=v("label"),_.innerHTML=f,b=S(),u=v("input"),C=S(),P=v("div"),H=v("label"),H.innerHTML=B,N=S(),q=v("input"),O=S(),x=v("div"),se=v("div"),Q=v("label"),Q.innerHTML=ce,Z=S(),he=v("input"),$=S(),oe=v("div"),be=v("label"),be.innerHTML=ve,K=S(),L=v("input"),U=S(),j=v("div"),te=v("div"),te.textContent=ue,ne=S(),G=v("div");for(let m=0;m<R.length;m+=1)R[m].c();ae=S(),pe=v("div"),_e=v("label"),_e.innerHTML=Le,we=S(),de=v("input"),re=S(),me=v("div"),ge=v("button"),ge.textContent=Ne,Te=S(),Me=v("button"),Me.textContent=ye,Ce=S(),ie=v("div"),this.h()},l(m){e=h(m,"DIV",{class:!0});var I=T(e);t=h(I,"DIV",{class:!0,role:!0,"aria-labelledby":!0});var y=T(t);n=h(y,"H3",{id:!0,class:!0,"data-svelte-h":!0}),le(n)!=="svelte-1jlj9mc"&&(n.textContent=a),i=V(y),o=h(y,"DIV",{class:!0});var J=T(o);w=h(J,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),le(w)!=="svelte-jolrqt"&&(w.innerHTML=d),E=V(J),g=h(J,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),J.forEach(p),D=V(y),c=h(y,"DIV",{class:!0});var A=T(c);k=h(A,"DIV",{class:!0});var Ie=T(k);_=h(Ie,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),le(_)!=="svelte-98q0k9"&&(_.innerHTML=f),b=V(Ie),u=h(Ie,"INPUT",{id:!0,type:!0,class:!0}),Ie.forEach(p),C=V(A),P=h(A,"DIV",{class:!0});var ze=T(P);H=h(ze,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),le(H)!=="svelte-gddc0x"&&(H.innerHTML=B),N=V(ze),q=h(ze,"INPUT",{id:!0,type:!0,class:!0}),ze.forEach(p),A.forEach(p),O=V(y),x=h(y,"DIV",{class:!0});var Pe=T(x);se=h(Pe,"DIV",{class:!0});var Ve=T(se);Q=h(Ve,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),le(Q)!=="svelte-1oqsca5"&&(Q.innerHTML=ce),Z=V(Ve),he=h(Ve,"INPUT",{id:!0,type:!0,class:!0}),Ve.forEach(p),$=V(Pe),oe=h(Pe,"DIV",{class:!0});var Se=T(oe);be=h(Se,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),le(be)!=="svelte-xf67bp"&&(be.innerHTML=ve),K=V(Se),L=h(Se,"INPUT",{id:!0,type:!0,class:!0}),Se.forEach(p),Pe.forEach(p),U=V(y),j=h(y,"DIV",{class:!0});var Ue=T(j);te=h(Ue,"DIV",{class:!0,"data-svelte-h":!0}),le(te)!=="svelte-fpe06"&&(te.textContent=ue),ne=V(Ue),G=h(Ue,"DIV",{class:!0});var je=T(G);for(let We=0;We<R.length;We+=1)R[We].l(je);je.forEach(p),Ue.forEach(p),ae=V(y),pe=h(y,"DIV",{class:!0});var Ae=T(pe);_e=h(Ae,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),le(_e)!=="svelte-hjp78m"&&(_e.innerHTML=Le),we=V(Ae),de=h(Ae,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0}),Ae.forEach(p),re=V(y),me=h(y,"DIV",{class:!0});var He=T(me);ge=h(He,"BUTTON",{class:!0,"data-svelte-h":!0}),le(ge)!=="svelte-1qbh3tt"&&(ge.textContent=Ne),Te=V(He),Me=h(He,"BUTTON",{class:!0,"data-svelte-h":!0}),le(Me)!=="svelte-cee54c"&&(Me.textContent=ye),He.forEach(p),y.forEach(p),Ce=V(I),ie=h(I,"DIV",{class:!0}),T(ie).forEach(p),I.forEach(p),this.h()},h(){r(n,"id","create-modal-title"),r(n,"class","text-lg font-bold mb-4"),r(w,"class","label"),r(w,"for","event-title"),r(g,"id","event-title"),r(g,"type","text"),r(g,"placeholder","Ex: Meeting, Lunch..."),r(g,"class","input input-bordered w-full"),g.autofocus=!0,r(o,"class","form-control w-full"),r(_,"class","label"),r(_,"for","event-start-date"),r(u,"id","event-start-date"),r(u,"type","date"),r(u,"class","input input-bordered input-sm"),r(k,"class","form-control"),r(H,"class","label"),r(H,"for","event-start-time"),r(q,"id","event-start-time"),r(q,"type","time"),r(q,"class","input input-bordered input-sm"),r(P,"class","form-control"),r(c,"class","mt-4 grid grid-cols-2 gap-3"),r(Q,"class","label"),r(Q,"for","event-end-date"),r(he,"id","event-end-date"),r(he,"type","date"),r(he,"class","input input-bordered input-sm"),r(se,"class","form-control"),r(be,"class","label"),r(be,"for","event-end-time"),r(L,"id","event-end-time"),r(L,"type","time"),r(L,"class","input input-bordered input-sm"),r(oe,"class","form-control"),r(x,"class","mt-3 grid grid-cols-2 gap-3"),r(te,"class","text-xs font-semibold text-base-content/60 mb-2"),r(G,"class","flex flex-wrap gap-2"),r(j,"class","mt-4"),r(_e,"class","label"),r(_e,"for","event-location"),r(de,"id","event-location"),r(de,"type","text"),r(de,"class","input input-bordered input-sm"),r(de,"placeholder","Ex: Room 3"),r(pe,"class","form-control mt-4"),r(ge,"class","btn btn-outline"),r(Me,"class","btn btn-primary"),r(me,"class","modal-action mt-6"),r(t,"class","modal-box max-w-md"),r(t,"role","dialog"),r(t,"aria-labelledby","create-modal-title"),r(ie,"class","modal-backdrop"),r(e,"class","modal modal-open z-50")},m(m,I){ee(m,e,I),s(e,t),s(t,n),s(t,i),s(t,o),s(o,w),s(o,E),s(o,g),ke(g,l[16].title),s(t,D),s(t,c),s(c,k),s(k,_),s(k,b),s(k,u),ke(u,l[16].startDate),s(c,C),s(c,P),s(P,H),s(P,N),s(P,q),ke(q,l[16].startTime),s(t,O),s(t,x),s(x,se),s(se,Q),s(se,Z),s(se,he),ke(he,l[16].endDate),s(x,$),s(x,oe),s(oe,be),s(oe,K),s(oe,L),ke(L,l[16].endTime),s(t,U),s(t,j),s(j,te),s(j,ne),s(j,G);for(let y=0;y<R.length;y+=1)R[y]&&R[y].m(G,null);s(t,ae),s(t,pe),s(pe,_e),s(pe,we),s(pe,de),ke(de,l[16].location),s(t,re),s(t,me),s(me,ge),s(me,Te),s(me,Me),s(e,Ce),s(e,ie),g.focus(),fe||(M=[Y(g,"input",l[36]),Y(u,"input",l[37]),Y(q,"input",l[38]),Y(he,"input",l[39]),Y(L,"input",l[40]),Y(de,"input",l[42]),Y(ge,"click",dt),Y(Me,"click",l[28]),Y(ie,"click",dt)],fe=!0)},p(m,I){if(I[0]&65536&&g.value!==m[16].title&&ke(g,m[16].title),I[0]&65536&&ke(u,m[16].startDate),I[0]&65536&&ke(q,m[16].startTime),I[0]&65536&&ke(he,m[16].endDate),I[0]&65536&&ke(L,m[16].endTime),I[0]&327680){z=Ee(m[18]);let y;for(y=0;y<z.length;y+=1){const J=zt(m,z,y);R[y]?R[y].p(J,I):(R[y]=Yt(J),R[y].c(),R[y].m(G,null))}for(;y<R.length;y+=1)R[y].d(1);R.length=z.length}I[0]&65536&&de.value!==m[16].location&&ke(de,m[16].location)},d(m){m&&p(e),Xe(R,m),fe=!1,et(M)}}}function Yt(l){let e,t,n;function a(){return l[41](l[59])}return{c(){e=v("button"),this.h()},l(i){e=h(i,"BUTTON",{class:!0,style:!0,"aria-label":!0}),T(e).forEach(p),this.h()},h(){r(e,"class","w-7 h-7 rounded-full border border-base-200"),W(e,"background-color",l[59]),W(e,"box-shadow",l[16].color===l[59]?"0 0 0 2px rgba(59, 130, 246, 0.5)":"none"),r(e,"aria-label","Select color")},m(i,o){ee(i,e,o),t||(n=Y(e,"click",a),t=!0)},p(i,o){l=i,o[0]&65536&&W(e,"box-shadow",l[16].color===l[59]?"0 0 0 2px rgba(59, 130, 246, 0.5)":"none")},d(i){i&&p(e),t=!1,n()}}}function Ft(l){let e,t,n,a="Confirm Change",i,o,w,d,E,g=l[14].event.title+"",D,c,k,_,f,b,u=l[14].newStart.toLocaleDateString("en-US")+"",C,P,H=l[14].newStart.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})+"",B,N,q,O,x,se="Cancel",Q,ce,Z="Confirm",he,$,oe,be;return{c(){e=v("div"),t=v("div"),n=v("h3"),n.textContent=a,i=S(),o=v("p"),w=X("Do you want to move the event "),d=v("b"),E=X('"'),D=X(g),c=X('"'),k=X(`
                to:
                `),_=v("br"),f=S(),b=v("b"),C=X(u),P=X(" at "),B=X(H),N=X(`
                ?`),q=S(),O=v("div"),x=v("button"),x.textContent=se,Q=S(),ce=v("button"),ce.textContent=Z,he=S(),$=v("div"),this.h()},l(ve){e=h(ve,"DIV",{class:!0});var K=T(e);t=h(K,"DIV",{class:!0});var L=T(t);n=h(L,"H3",{class:!0,"data-svelte-h":!0}),le(n)!=="svelte-1i3fm27"&&(n.textContent=a),i=V(L),o=h(L,"P",{class:!0});var U=T(o);w=F(U,"Do you want to move the event "),d=h(U,"B",{});var j=T(d);E=F(j,'"'),D=F(j,g),c=F(j,'"'),j.forEach(p),k=F(U,`
                to:
                `),_=h(U,"BR",{}),f=V(U),b=h(U,"B",{});var te=T(b);C=F(te,u),P=F(te," at "),B=F(te,H),te.forEach(p),N=F(U,`
                ?`),U.forEach(p),q=V(L),O=h(L,"DIV",{class:!0});var ue=T(O);x=h(ue,"BUTTON",{class:!0,"data-svelte-h":!0}),le(x)!=="svelte-1y9vgqv"&&(x.textContent=se),Q=V(ue),ce=h(ue,"BUTTON",{class:!0,"data-svelte-h":!0}),le(ce)!=="svelte-u0ib3z"&&(ce.textContent=Z),ue.forEach(p),L.forEach(p),he=V(K),$=h(K,"DIV",{class:!0}),T($).forEach(p),K.forEach(p),this.h()},h(){r(n,"class","font-bold text-lg"),r(o,"class","py-4"),r(x,"class","btn btn-outline"),r(ce,"class","btn btn-primary"),r(O,"class","modal-action"),r(t,"class","modal-box"),r($,"class","modal-backdrop"),r(e,"class","modal modal-open z-50")},m(ve,K){ee(ve,e,K),s(e,t),s(t,n),s(t,i),s(t,o),s(o,w),s(o,d),s(d,E),s(d,D),s(d,c),s(o,k),s(o,_),s(o,f),s(o,b),s(b,C),s(b,P),s(b,B),s(o,N),s(t,q),s(t,O),s(O,x),s(O,Q),s(O,ce),s(e,he),s(e,$),oe||(be=[Y(x,"click",l[24]),Y(ce,"click",l[23]),Y($,"click",l[24])],oe=!0)},p(ve,K){K[0]&16384&&g!==(g=ve[14].event.title+"")&&De(D,g),K[0]&16384&&u!==(u=ve[14].newStart.toLocaleDateString("en-US")+"")&&De(C,u),K[0]&16384&&H!==(H=ve[14].newStart.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})+"")&&De(B,H)},d(ve){ve&&p(e),oe=!1,et(be)}}}function Xt(l){let e,t,n,a,i=l[6].title+"",o,w,d,E="âœ•",g,D,c,k,_='<span class="label-text text-sm">Start Date</span>',f,b,u,C,P,H='<span class="label-text text-sm">Start Time</span>',B,N,q,O,x,se,Q='<span class="label-text text-sm">End Date</span>',ce,Z,he,$,oe,be='<span class="label-text text-sm">End Time</span>',ve,K,L,U,j,te='<span class="label-text text-sm">Location</span>',ue,ne,G,ae,pe,_e="Event Color",Le,we,de,re,me,ge="Cancel",Ne,Te,Me="Delete",ye,Ce,ie="Update",fe,M,z,R,m=Ee(l[18]),I=[];for(let y=0;y<m.length;y+=1)I[y]=Kt(Ot(l,m,y));return{c(){e=v("div"),t=v("div"),n=v("div"),a=v("h3"),o=X(i),w=S(),d=v("button"),d.textContent=E,g=S(),D=v("div"),c=v("div"),k=v("label"),k.innerHTML=_,f=S(),b=v("input"),u=S(),C=v("div"),P=v("label"),P.innerHTML=H,B=S(),N=v("input"),q=S(),O=v("div"),x=v("div"),se=v("label"),se.innerHTML=Q,ce=S(),Z=v("input"),he=S(),$=v("div"),oe=v("label"),oe.innerHTML=be,ve=S(),K=v("input"),L=S(),U=v("div"),j=v("label"),j.innerHTML=te,ue=S(),ne=v("input"),G=S(),ae=v("div"),pe=v("div"),pe.textContent=_e,Le=S(),we=v("div");for(let y=0;y<I.length;y+=1)I[y].c();de=S(),re=v("div"),me=v("button"),me.textContent=ge,Ne=S(),Te=v("button"),Te.textContent=Me,ye=S(),Ce=v("button"),Ce.textContent=ie,fe=S(),M=v("div"),this.h()},l(y){e=h(y,"DIV",{class:!0});var J=T(e);t=h(J,"DIV",{class:!0,role:!0,"aria-labelledby":!0});var A=T(t);n=h(A,"DIV",{class:!0});var Ie=T(n);a=h(Ie,"H3",{id:!0,class:!0});var ze=T(a);o=F(ze,i),ze.forEach(p),w=V(Ie),d=h(Ie,"BUTTON",{class:!0,"aria-label":!0,"data-svelte-h":!0}),le(d)!=="svelte-18b9x9u"&&(d.textContent=E),Ie.forEach(p),g=V(A),D=h(A,"DIV",{class:!0});var Pe=T(D);c=h(Pe,"DIV",{class:!0});var Ve=T(c);k=h(Ve,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),le(k)!=="svelte-r3ymni"&&(k.innerHTML=_),f=V(Ve),b=h(Ve,"INPUT",{id:!0,type:!0,class:!0}),Ve.forEach(p),u=V(Pe),C=h(Pe,"DIV",{class:!0});var Se=T(C);P=h(Se,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),le(P)!=="svelte-efmzq"&&(P.innerHTML=H),B=V(Se),N=h(Se,"INPUT",{id:!0,type:!0,class:!0}),Se.forEach(p),Pe.forEach(p),q=V(A),O=h(A,"DIV",{class:!0});var Ue=T(O);x=h(Ue,"DIV",{class:!0});var je=T(x);se=h(je,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),le(se)!=="svelte-192g8a2"&&(se.innerHTML=Q),ce=V(je),Z=h(je,"INPUT",{id:!0,type:!0,class:!0}),je.forEach(p),he=V(Ue),$=h(Ue,"DIV",{class:!0});var Ae=T($);oe=h(Ae,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),le(oe)!=="svelte-1bn4of6"&&(oe.innerHTML=be),ve=V(Ae),K=h(Ae,"INPUT",{id:!0,type:!0,class:!0}),Ae.forEach(p),Ue.forEach(p),L=V(A),U=h(A,"DIV",{class:!0});var He=T(U);j=h(He,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),le(j)!=="svelte-192u0qn"&&(j.innerHTML=te),ue=V(He),ne=h(He,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0}),He.forEach(p),G=V(A),ae=h(A,"DIV",{class:!0});var We=T(ae);pe=h(We,"DIV",{class:!0,"data-svelte-h":!0}),le(pe)!=="svelte-fpe06"&&(pe.textContent=_e),Le=V(We),we=h(We,"DIV",{class:!0});var $e=T(we);for(let Qe=0;Qe<I.length;Qe+=1)I[Qe].l($e);$e.forEach(p),We.forEach(p),de=V(A),re=h(A,"DIV",{class:!0});var qe=T(re);me=h(qe,"BUTTON",{class:!0,"data-svelte-h":!0}),le(me)!=="svelte-i6n0qp"&&(me.textContent=ge),Ne=V(qe),Te=h(qe,"BUTTON",{class:!0,"data-svelte-h":!0}),le(Te)!=="svelte-n35wnb"&&(Te.textContent=Me),ye=V(qe),Ce=h(qe,"BUTTON",{class:!0,"data-svelte-h":!0}),le(Ce)!=="svelte-1esvdka"&&(Ce.textContent=ie),qe.forEach(p),A.forEach(p),fe=V(J),M=h(J,"DIV",{class:!0}),T(M).forEach(p),J.forEach(p),this.h()},h(){r(a,"id","event-details-title"),r(a,"class","text-lg font-semibold text-base-content"),r(d,"class","btn btn-sm btn-ghost btn-circle"),r(d,"aria-label","Close"),r(n,"class","flex justify-between items-start mb-4"),r(k,"class","label"),r(k,"for","event-edit-start-date"),r(b,"id","event-edit-start-date"),r(b,"type","date"),r(b,"class","input input-bordered input-sm"),r(c,"class","form-control"),r(P,"class","label"),r(P,"for","event-edit-start-time"),r(N,"id","event-edit-start-time"),r(N,"type","time"),r(N,"class","input input-bordered input-sm"),r(C,"class","form-control"),r(D,"class","grid grid-cols-2 gap-3 mb-3"),r(se,"class","label"),r(se,"for","event-edit-end-date"),r(Z,"id","event-edit-end-date"),r(Z,"type","date"),r(Z,"class","input input-bordered input-sm"),r(x,"class","form-control"),r(oe,"class","label"),r(oe,"for","event-edit-end-time"),r(K,"id","event-edit-end-time"),r(K,"type","time"),r(K,"class","input input-bordered input-sm"),r($,"class","form-control"),r(O,"class","grid grid-cols-2 gap-3 mb-3"),r(j,"class","label"),r(j,"for","event-edit-location"),r(ne,"id","event-edit-location"),r(ne,"type","text"),r(ne,"class","input input-bordered input-sm"),r(ne,"placeholder","Ex: Room 3"),r(U,"class","form-control mb-4"),r(pe,"class","text-xs font-semibold text-base-content/60 mb-2"),r(we,"class","flex flex-wrap gap-2"),r(ae,"class","mb-4"),r(me,"class","btn btn-outline"),r(Te,"class","btn btn-error btn-outline"),r(Ce,"class","btn btn-primary"),r(re,"class","modal-action"),r(t,"class","modal-box max-w-sm"),r(t,"role","dialog"),r(t,"aria-labelledby","event-details-title"),r(M,"class","modal-backdrop"),r(e,"class","modal modal-open z-50")},m(y,J){ee(y,e,J),s(e,t),s(t,n),s(n,a),s(a,o),s(n,w),s(n,d),s(t,g),s(t,D),s(D,c),s(c,k),s(c,f),s(c,b),ke(b,l[8]),s(D,u),s(D,C),s(C,P),s(C,B),s(C,N),ke(N,l[9]),s(t,q),s(t,O),s(O,x),s(x,se),s(x,ce),s(x,Z),ke(Z,l[10]),s(O,he),s(O,$),s($,oe),s($,ve),s($,K),ke(K,l[11]),s(t,L),s(t,U),s(U,j),s(U,ue),s(U,ne),ke(ne,l[12]),s(t,G),s(t,ae),s(ae,pe),s(ae,Le),s(ae,we);for(let A=0;A<I.length;A+=1)I[A]&&I[A].m(we,null);s(t,de),s(t,re),s(re,me),s(re,Ne),s(re,Te),s(re,ye),s(re,Ce),s(e,fe),s(e,M),z||(R=[Y(d,"click",l[43]),Y(b,"input",l[44]),Y(N,"input",l[45]),Y(Z,"input",l[46]),Y(K,"input",l[47]),Y(ne,"input",l[48]),Y(me,"click",l[50]),Y(Te,"click",l[29]),Y(Ce,"click",l[30]),Y(M,"click",l[51])],z=!0)},p(y,J){if(J[0]&64&&i!==(i=y[6].title+"")&&De(o,i),J[0]&256&&ke(b,y[8]),J[0]&512&&ke(N,y[9]),J[0]&1024&&ke(Z,y[10]),J[0]&2048&&ke(K,y[11]),J[0]&4096&&ne.value!==y[12]&&ke(ne,y[12]),J[0]&262272){m=Ee(y[18]);let A;for(A=0;A<m.length;A+=1){const Ie=Ot(y,m,A);I[A]?I[A].p(Ie,J):(I[A]=Kt(Ie),I[A].c(),I[A].m(we,null))}for(;A<I.length;A+=1)I[A].d(1);I.length=m.length}},d(y){y&&p(e),Xe(I,y),z=!1,et(R)}}}function Kt(l){let e,t,n;function a(){return l[49](l[59])}return{c(){e=v("button"),this.h()},l(i){e=h(i,"BUTTON",{class:!0,style:!0,"aria-label":!0}),T(e).forEach(p),this.h()},h(){r(e,"class","w-7 h-7 rounded-full border border-base-200"),W(e,"background-color",l[59]),W(e,"box-shadow",l[7]===l[59]?"0 0 0 2px rgba(59, 130, 246, 0.5)":"none"),r(e,"aria-label","Select color")},m(i,o){ee(i,e,o),t||(n=Y(e,"click",a),t=!0)},p(i,o){l=i,o[0]&128&&W(e,"box-shadow",l[7]===l[59]?"0 0 0 2px rgba(59, 130, 246, 0.5)":"none")},d(i){i&&p(e),t=!1,n()}}}function Wl(l){let e,t;return{c(){e=Je("svg"),t=Je("path"),this.h()},l(n){e=Ke(n,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var a=T(e);t=Ke(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),T(t).forEach(p),a.forEach(p),this.h()},h(){r(t,"stroke-linecap","round"),r(t,"stroke-linejoin","round"),r(t,"stroke-width","2"),r(t,"d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),r(e,"class","h-6 w-6"),r(e,"fill","none"),r(e,"stroke","currentColor"),r(e,"viewBox","0 0 24 24")},m(n,a){ee(n,e,a),s(e,t)},d(n){n&&p(e)}}}function Ol(l){let e,t;return{c(){e=Je("svg"),t=Je("path"),this.h()},l(n){e=Ke(n,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var a=T(e);t=Ke(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),T(t).forEach(p),a.forEach(p),this.h()},h(){r(t,"stroke-linecap","round"),r(t,"stroke-linejoin","round"),r(t,"stroke-width","2"),r(t,"d","M6 18L18 6M6 6l12 12"),r(e,"class","h-6 w-6"),r(e,"fill","none"),r(e,"stroke","currentColor"),r(e,"viewBox","0 0 24 24")},m(n,a){ee(n,e,a),s(e,t)},d(n){n&&p(e)}}}function zl(l){let e,t;return{c(){e=Je("svg"),t=Je("path"),this.h()},l(n){e=Ke(n,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var a=T(e);t=Ke(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),T(t).forEach(p),a.forEach(p),this.h()},h(){r(t,"stroke-linecap","round"),r(t,"stroke-linejoin","round"),r(t,"stroke-width","2"),r(t,"d","M5 13l4 4L19 7"),r(e,"class","h-6 w-6"),r(e,"fill","none"),r(e,"stroke","currentColor"),r(e,"viewBox","0 0 24 24")},m(n,a){ee(n,e,a),s(e,t)},d(n){n&&p(e)}}}function Jt(l){let e,t,n=l[56].status+"",a;return{c(){e=v("p"),t=X("HTTP "),a=X(n),this.h()},l(i){e=h(i,"P",{class:!0});var o=T(e);t=F(o,"HTTP "),a=F(o,n),o.forEach(p),this.h()},h(){r(e,"class","text-xs opacity-75")},m(i,o){ee(i,e,o),s(e,t),s(e,a)},p(i,o){o[0]&131072&&n!==(n=i[56].status+"")&&De(a,n)},d(i){i&&p(e)}}}function Zt(l,e){let t,n,a,i,o,w,d=e[56].message+"",E,g,D,c;function k(u,C){return u[56].type==="success"?zl:u[56].type==="error"?Ol:Wl}let _=k(e),f=_(e),b=e[56].status&&Jt(e);return{key:l,first:null,c(){t=v("div"),n=v("div"),a=v("div"),f.c(),i=S(),o=v("div"),w=v("p"),E=X(d),g=S(),b&&b.c(),D=S(),this.h()},l(u){t=h(u,"DIV",{class:!0});var C=T(t);n=h(C,"DIV",{class:!0});var P=T(n);a=h(P,"DIV",{});var H=T(a);f.l(H),H.forEach(p),i=V(P),o=h(P,"DIV",{class:!0});var B=T(o);w=h(B,"P",{class:!0});var N=T(w);E=F(N,d),N.forEach(p),g=V(B),b&&b.l(B),B.forEach(p),P.forEach(p),D=V(C),C.forEach(p),this.h()},h(){r(w,"class","font-semibold"),r(o,"class","flex-1"),r(n,"class","flex items-start gap-3"),r(t,"class",c="alert "+(e[56].type==="success"?"alert-success":e[56].type==="error"?"alert-error":e[56].type==="warning"?"alert-warning":"alert-info")+" shadow-lg animate-in slide-in-from-right-4"),this.first=t},m(u,C){ee(u,t,C),s(t,n),s(n,a),f.m(a,null),s(n,i),s(n,o),s(o,w),s(w,E),s(o,g),b&&b.m(o,null),s(t,D)},p(u,C){e=u,_!==(_=k(e))&&(f.d(1),f=_(e),f&&(f.c(),f.m(a,null))),C[0]&131072&&d!==(d=e[56].message+"")&&De(E,d),e[56].status?b?b.p(e,C):(b=Jt(e),b.c(),b.m(o,null)):b&&(b.d(1),b=null),C[0]&131072&&c!==(c="alert "+(e[56].type==="success"?"alert-success":e[56].type==="error"?"alert-error":e[56].type==="warning"?"alert-warning":"alert-info")+" shadow-lg animate-in slide-in-from-right-4")&&r(t,"class",c)},d(u){u&&p(t),f.d(),b&&b.d()}}}function Rl(l){let e,t,n,a,i,o="Today",w,d,E,g='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>',D,c,k='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>',_,f,b,u,C,P,H,B=l[2]==="week"?"Week":"Month",N,q,O,x,se,Q,ce,Z,he,$,oe="W",be,ve,K,L,U,j,te="M",ue,ne,G,ae,pe,_e,Le,we,de,re=[],me=new Map,ge,Ne,Te;const Me=[jl,Ul],ye=[];function Ce(m,I){return m[3]?0:1}G=Ce(l),ae=ye[G]=Me[G](l);let ie=l[16].isOpen&&qt(l),fe=l[13]&&l[14]&&Ft(l),M=l[5]&&l[6]&&Xt(l),z=Ee(l[17]);const R=m=>m[56].id;for(let m=0;m<z.length;m+=1){let I=Wt(l,z,m),y=R(I);me.set(y,re[m]=Zt(y,I))}return{c(){e=v("div"),t=v("header"),n=v("div"),a=v("div"),i=v("button"),i.textContent=o,w=S(),d=v("div"),E=v("button"),E.innerHTML=g,D=S(),c=v("button"),c.innerHTML=k,_=S(),f=v("h2"),b=X(l[15]),u=S(),C=v("div"),P=v("div"),H=v("label"),N=X(B),q=S(),O=Je("svg"),x=Je("path"),se=S(),Q=v("ul"),ce=v("li"),Z=v("button"),he=X("Week "),$=v("span"),$.textContent=oe,ve=S(),K=v("li"),L=v("button"),U=X("Month "),j=v("span"),j.textContent=te,ne=S(),ae.c(),pe=S(),ie&&ie.c(),_e=S(),fe&&fe.c(),Le=S(),M&&M.c(),we=S(),de=v("div");for(let m=0;m<re.length;m+=1)re[m].c();this.h()},l(m){e=h(m,"DIV",{class:!0});var I=T(e);t=h(I,"HEADER",{class:!0});var y=T(t);n=h(y,"DIV",{class:!0});var J=T(n);a=h(J,"DIV",{class:!0});var A=T(a);i=h(A,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),le(i)!=="svelte-1ryw55k"&&(i.textContent=o),w=V(A),d=h(A,"DIV",{class:!0});var Ie=T(d);E=h(Ie,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),le(E)!=="svelte-1ew4n8z"&&(E.innerHTML=g),D=V(Ie),c=h(Ie,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),le(c)!=="svelte-txw445"&&(c.innerHTML=k),Ie.forEach(p),_=V(A),f=h(A,"H2",{class:!0});var ze=T(f);b=F(ze,l[15]),ze.forEach(p),A.forEach(p),J.forEach(p),u=V(y),C=h(y,"DIV",{class:!0});var Pe=T(C);P=h(Pe,"DIV",{class:!0});var Ve=T(P);H=h(Ve,"LABEL",{tabindex:!0,class:!0});var Se=T(H);N=F(Se,B),q=V(Se),O=Ke(Se,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var Ue=T(O);x=Ke(Ue,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),T(x).forEach(p),Ue.forEach(p),Se.forEach(p),se=V(Ve),Q=h(Ve,"UL",{tabindex:!0,class:!0});var je=T(Q);ce=h(je,"LI",{});var Ae=T(ce);Z=h(Ae,"BUTTON",{class:!0});var He=T(Z);he=F(He,"Week "),$=h(He,"SPAN",{class:!0,"data-svelte-h":!0}),le($)!=="svelte-1fruqkh"&&($.textContent=oe),He.forEach(p),Ae.forEach(p),ve=V(je),K=h(je,"LI",{});var We=T(K);L=h(We,"BUTTON",{class:!0});var $e=T(L);U=F($e,"Month "),j=h($e,"SPAN",{class:!0,"data-svelte-h":!0}),le(j)!=="svelte-x1j0tv"&&(j.textContent=te),$e.forEach(p),We.forEach(p),je.forEach(p),Ve.forEach(p),Pe.forEach(p),y.forEach(p),ne=V(I),ae.l(I),I.forEach(p),pe=V(m),ie&&ie.l(m),_e=V(m),fe&&fe.l(m),Le=V(m),M&&M.l(m),we=V(m),de=h(m,"DIV",{class:!0});var qe=T(de);for(let Qe=0;Qe<re.length;Qe+=1)re[Qe].l(qe);qe.forEach(p),this.h()},h(){r(i,"class","btn btn-sm btn-outline px-4"),r(i,"title","Back to today"),r(E,"class","btn btn-sm btn-ghost btn-circle"),r(E,"title","Previous"),r(c,"class","btn btn-sm btn-ghost btn-circle"),r(c,"title","Next"),r(d,"class","flex items-center gap-1"),r(f,"class","text-xl font-normal capitalize min-w-[200px]"),r(a,"class","flex items-center gap-4"),r(n,"class","flex items-center gap-4"),r(x,"stroke-linecap","round"),r(x,"stroke-linejoin","round"),r(x,"stroke-width","2"),r(x,"d","M19 9l-7 7-7-7"),r(O,"class","w-4 h-4 ml-1"),r(O,"fill","none"),r(O,"stroke","currentColor"),r(O,"viewBox","0 0 24 24"),r(H,"tabindex","0"),r(H,"class","btn btn-outline btn-sm m-1 min-w-[100px] justify-between"),r($,"class","text-xs opacity-50 ml-auto"),r(Z,"class",be=l[2]==="week"?"active":""),r(j,"class","text-xs opacity-50 ml-auto"),r(L,"class",ue=l[2]==="month"?"active":""),r(Q,"tabindex","0"),r(Q,"class","dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-52 border border-base-200"),r(P,"class","dropdown dropdown-end z-50"),r(C,"class","flex items-center gap-2"),r(t,"class","flex-none flex items-center justify-between px-6 py-4 border-b border-base-200"),r(e,"class","flex flex-col h-screen bg-base-100"),r(de,"class","fixed bottom-4 right-4 z-50 flex flex-col gap-2 max-w-md")},m(m,I){ee(m,e,I),s(e,t),s(t,n),s(n,a),s(a,i),s(a,w),s(a,d),s(d,E),s(d,D),s(d,c),s(a,_),s(a,f),s(f,b),s(t,u),s(t,C),s(C,P),s(P,H),s(H,N),s(H,q),s(H,O),s(O,x),s(P,se),s(P,Q),s(Q,ce),s(ce,Z),s(Z,he),s(Z,$),s(Q,ve),s(Q,K),s(K,L),s(L,U),s(L,j),s(e,ne),ye[G].m(e,null),ee(m,pe,I),ie&&ie.m(m,I),ee(m,_e,I),fe&&fe.m(m,I),ee(m,Le,I),M&&M.m(m,I),ee(m,we,I),ee(m,de,I);for(let y=0;y<re.length;y+=1)re[y]&&re[y].m(de,null);ge=!0,Ne||(Te=[Y(i,"click",l[21]),Y(E,"click",l[19]),Y(c,"click",l[20]),Y(Z,"click",l[34]),Y(L,"click",l[35])],Ne=!0)},p(m,I){(!ge||I[0]&32768)&&De(b,m[15]),(!ge||I[0]&4)&&B!==(B=m[2]==="week"?"Week":"Month")&&De(N,B),(!ge||I[0]&4&&be!==(be=m[2]==="week"?"active":""))&&r(Z,"class",be),(!ge||I[0]&4&&ue!==(ue=m[2]==="month"?"active":""))&&r(L,"class",ue);let y=G;G=Ce(m),G===y?ye[G].p(m,I):(pt(),Ze(ye[y],1,1,()=>{ye[y]=null}),vt(),ae=ye[G],ae?ae.p(m,I):(ae=ye[G]=Me[G](m),ae.c()),Ge(ae,1),ae.m(e,null)),m[16].isOpen?ie?ie.p(m,I):(ie=qt(m),ie.c(),ie.m(_e.parentNode,_e)):ie&&(ie.d(1),ie=null),m[13]&&m[14]?fe?fe.p(m,I):(fe=Ft(m),fe.c(),fe.m(Le.parentNode,Le)):fe&&(fe.d(1),fe=null),m[5]&&m[6]?M?M.p(m,I):(M=Xt(m),M.c(),M.m(we.parentNode,we)):M&&(M.d(1),M=null),I[0]&131072&&(z=Ee(m[17]),re=_t(re,I,R,1,m,z,me,de,bt,Zt,null,Wt))},i(m){ge||(Ge(ae),ge=!0)},o(m){Ze(ae),ge=!1},d(m){m&&(p(e),p(pe),p(_e),p(Le),p(we),p(de)),ye[G].d(),ie&&ie.d(m),fe&&fe.d(m),M&&M.d(m);for(let I=0;I<re.length;I+=1)re[I].d();Ne=!1,et(Te)}}}const Gt="#3b82f6";function ql(l,e,t){let n,a,i,o,w;tt(l,mt,M=>t(33,i=M)),tt(l,Ye,M=>t(16,o=M)),tt(l,ml,M=>t(17,w=M));let d=[],E=new Date,g="week",D=!0,c=0;const k=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#14b8a6","#f97316"];let _=!1,f=null,b=Gt,u="",C="",P="",H="",B="",N=!1,q=null;function O(){g==="week"?t(0,E=Et(E)):t(0,E=gl(E))}function x(){g==="week"?t(0,E=Dt(E,1)):t(0,E=kl(E,1))}function se(){t(0,E=new Date),nt(ct())}function Q(M){const z=Oe(M),R=String(M.getHours()).padStart(2,"0"),m=String(M.getMinutes()).padStart(2,"0");return`${z}T${R}:${m}:00`}function ce(M){const{event:z,newStart:R}=M.detail,m=new Date(z.start),y=new Date(z.end).getTime()-m.getTime(),J=new Date(R.getTime()+y);t(14,q={event:z,newStart:R,newEnd:J}),t(13,N=!0)}async function Z(){if(!q)return;const{event:M,newStart:z,newEnd:R}=q,m={...M,start:Q(z),end:Q(R)};t(1,d=d.map(I=>I.id===M.id?m:I)),t(4,c+=1),t(13,N=!1),t(14,q=null);try{await Tt(m),xe("Event updated successfully!","success",200)}catch{t(1,d=d.map(y=>y.id===M.id?M:y)),t(4,c+=1),xe("Error moving event","error",500)}}function he(){t(13,N=!1),t(14,q=null)}function $(M,z){const R=M||ct(),m=z!==void 0?String(z).padStart(2,"0"):"09",I=(z!==void 0?z+1:10).toString();bl("",R,m,I)}function oe(M){t(6,f=M),t(7,b=M.color||Gt),t(8,u=lt(M.start)),t(9,C=Be(M.start)),t(10,P=lt(M.end)),t(11,H=Be(M.end)),t(12,B=M.location||""),t(5,_=!0)}function be(M){nt(M),t(0,E=new Date(M+"T00:00:00")),t(2,g="week")}function ve(M){be(M.detail)}function K(M){$(M.detail.dateStr,M.detail.hour)}function L(M){M.detail.direction===1?t(0,E=Dt(E,1)):t(0,E=Et(E))}async function U(){const{title:M,startDate:z,startTime:R,endDate:m,endTime:I,color:y,location:J}=o;if(!M.trim()||!z||!m||!R||!I){xe("Please fill all fields","warning");return}try{const A=await El({title:M.trim(),start:`${z}T${R}:00`,end:`${m}T${I}:00`,color:y,location:J.trim()});A?(t(1,d=[...d,A]),nt(z),t(0,E=new Date(z+"T00:00:00")),xe(`Event "${A.title}" created successfully!`,"success",200,4e3),dt()):xe("Error creating event - empty server response","error",500)}catch(A){console.error("[handleCreate]",A),xe("Error creating event","error",500)}}async function j(){if(!f||!confirm(`Delete event "${f.title}"?`))return;const M=d,z=f;t(1,d=d.filter(m=>m.id!==z.id)),t(4,c+=1),t(5,_=!1),t(6,f=null),await Dl(z.id)?xe(`Event "${z.title}" deleted successfully!`,"success",200,3e3):(t(1,d=M),t(4,c+=1),xe("Error deleting event","error",500))}async function te(){if(!f)return;if(!u||!C||!P||!H){xe("Fill date and time","warning");return}const M=`${u}T${C}:00`,z=`${P}T${H}:00`,R=new Date(M),m=new Date(z);if(Number.isNaN(R.getTime())||Number.isNaN(m.getTime())||m<=R){xe("Invalid period","warning");return}const I=f,y={...f,start:M,end:z,color:b,location:B.trim()};t(1,d=d.map(J=>J.id===y.id?y:J)),t(4,c+=1),t(5,_=!1),t(6,f=null);try{await Tt(y),xe("Event updated successfully!","success",200)}catch{t(1,d=d.map(A=>A.id===I.id?I:A)),t(4,c+=1),xe("Error updating event","error",500)}}function ue(M){oe(M.detail)}il(async()=>{t(1,d=await wl()),i||nt(ct()),t(3,D=!1)});const ne=()=>t(2,g="week"),G=()=>t(2,g="month");function ae(){o.title=this.value,Ye.set(o)}function pe(){o.startDate=this.value,Ye.set(o)}function _e(){o.startTime=this.value,Ye.set(o)}function Le(){o.endDate=this.value,Ye.set(o)}function we(){o.endTime=this.value,Ye.set(o)}const de=M=>cl(Ye,o={...o,color:M},o);function re(){o.location=this.value,Ye.set(o)}const me=()=>{t(5,_=!1),t(6,f=null)};function ge(){u=this.value,t(8,u)}function Ne(){C=this.value,t(9,C)}function Te(){P=this.value,t(10,P)}function Me(){H=this.value,t(11,H)}function ye(){B=this.value,t(12,B)}const Ce=M=>t(7,b=M),ie=()=>{t(5,_=!1),t(6,f=null)},fe=()=>{t(5,_=!1),t(6,f=null)};return l.$$.update=()=>{l.$$.dirty[1]&4&&t(32,a=i),l.$$.dirty[1]&2&&a&&t(0,E=new Date(`${a}T00:00:00`)),l.$$.dirty[0]&1&&t(15,n=_l(E))},[E,d,g,D,c,_,f,b,u,C,P,H,B,N,q,n,o,w,k,O,x,se,ce,Z,he,ve,K,L,U,j,te,ue,a,i,ne,G,ae,pe,_e,Le,we,de,re,me,ge,Ne,Te,Me,ye,Ce,ie,fe]}class Kl extends ft{constructor(e){super(),ht(this,e,ql,Rl,at,{},null,[-1,-1,-1])}}export{Kl as component};
